(()=>{"use strict";const o=function(o){let s=!1;return{shipLength:o,numberOfHits:0,isSunk:function(o,r){return o==r?(s=!0,s):(s=!1,s)},hit:function(){this.numberOfHits+=1},coords:[]}},s=function(){let o=[];const s=[];let r=[],t=[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]];const e=function(o,s){let r=!1;return o.forEach((o=>{o[0]==s[0]&&o[1]==s[1]&&(console.log("true"),r=!0)})),1==r};function d(o,s){for(let r=o.length;r--;)o[r][0]==s[0]&&o[r][1]==s[1]&&o.splice(r,1)}return{board:t,horizontal:function(o,s,r){for(let t=0;t<o.shipLength;t++){let e=[s,t+r];o.coords.push(e)}},vertical:function(o,s,r){for(let t=0;t<o.shipLength;t++){let e=[t+s,r];o.coords.push(e)}},receiveAttack:function(o,t){e(o.coords,t)?(o.hit(),console.log("hit")):s.push(t),e(r,t)&&d(r,t)},missedCoords:s,currentShips:o,allSunk:function(){let s=[];return o.forEach((o=>{0==o.sunk?s.push(!1):s.push(!0)})),!s.includes(!1)},getPotentialMoves:function(){for(let o=0;o<10;o++)for(let s=0;s<10;s++)r.push([s,o])},potentialMoves:r,matchMove:e,removeAllInstances:d,drawBoard:function(){console.log("Hi");const o=document.getElementsByClassName("container")[0];console.log(o);let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s);for(let o=0;o<t.length;o++)for(let r=0;r<t.length;r++){let e=document.createElement("div");e.classList.add("individual-square"),e.classList.add(r),e.classList.add(o),console.log("in"),s.appendChild(e)," "!=t[o][r]&&e.classList.add("ship")}},setUpClickToHit:function(){let o=document.getElementsByClassName("individual-square");for(let s=0;s<o.length;s++)o[s].addEventListener("click",(()=>{console.log("Attack")}))}}},r=function(){let o=[],s=[];const r=function(o){let s=(r=o.potentialMoves.length-1,Math.floor(Math.random()*r));var r;return o.potentialMoves[s]};return{name:"",randomAttack:r,getLegalMoves:function(s){o=[];for(let r=0;r<s.board.length;r++)for(let t=0;t<10;t++)" "==s.board[r][t]&&o.push([r,t])},randomAttack:r,checkMissedCoordsForMatch:function(o,r){let t=!1;s=[];for(let e=0;e<r.length;e++)o[0]==r[e][0]&&o[1]==r[e][1]?t=!0:s.push([o[0],o[1]]);return 1==t}}},t=function(){let t="",e="",d=t,n=s(),c=s();return{swapPlayer:function(){d=d==t?e:t},setUpGame:function(){t=r();const s=o(2);s.coords.push([0,0]),s.coords.push([0,1]),n.board[0][0]=s,n.board[0][1]=s;const d=o(3);d.coords.push([1,0]),d.coords.push([1,1]),d.coords.push([1,2]),n.board[1][0]=s,n.board[1][1]=s,n.board[1][2]=s;const a=o(3);a.coords.push([2,0]),a.coords.push([2,1]),a.coords.push([2,2]),n.board[2][0]=a,n.board[2][1]=a,n.board[2][2]=a;const u=o(4);u.coords.push([3,0]),u.coords.push([3,1]),u.coords.push([3,2]),u.coords.push([3,3]),n.board[3][0]=u,n.board[3][1]=u,n.board[3][2]=u,n.board[3][3]=u;const l=o(5);l.coords.push([4,0]),l.coords.push([4,1]),l.coords.push([4,2]),l.coords.push([4,3]),l.coords.push([4,4]),n.board[4][0]=l,n.board[4][1]=l,n.board[4][2]=l,n.board[4][3]=l,n.board[4][4]=l,e=r();const h=o(2);h.coords.push([0,0]),h.coords.push([0,1]),c.board[0][0]=h,c.board[0][1]=h;const i=o(3);i.coords.push([1,0]),i.coords.push([1,1]),i.coords.push([1,2]),c.board[1][0]=i,c.board[1][1]=i,c.board[1][2]=i;const p=o(3);p.coords.push([2,0]),p.coords.push([2,1]),p.coords.push([2,2]),c.board[2][0]=p,c.board[2][1]=p,c.board[2][2]=p;const b=o(4);b.coords.push([3,0]),b.coords.push([3,1]),b.coords.push([3,2]),b.coords.push([3,3]),c.board[3][0]=b,c.board[3][1]=b,c.board[3][2]=b,c.board[3][3]=b;const f=o(5);f.coords.push([4,0]),f.coords.push([4,1]),f.coords.push([4,2]),f.coords.push([4,3]),f.coords.push([4,4]),c.board[4][0]=f,c.board[4][1]=f,c.board[4][2]=f,c.board[4][3]=f,c.board[4][4]=f},p1Gameboard:n,p2Gameboard:c}}();t.setUpGame(),t.p1Gameboard.drawBoard(),t.p2Gameboard.drawBoard(),t.p1Gameboard.setUpClickToHit(),t.p1Gameboard.setUpClickToHit()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEzRSxPQUFPdUIsS0FBSyxDQUFDLEVBQUcsSUFDeEJvRCxFQUFRM0UsT0FBT3VCLEtBQUssQ0FBQyxFQUFHLElBQ3hCb0QsRUFBUTNFLE9BQU91QixLQUFLLENBQUMsRUFBRyxJQUN4QndDLEVBQVkxRCxNQUFNLEdBQUcsR0FBS3NFLEVBQzFCWixFQUFZMUQsTUFBTSxHQUFHLEdBQUtzRSxFQUMxQlosRUFBWTFELE1BQU0sR0FBRyxHQUFLc0UsRUFDMUJaLEVBQVkxRCxNQUFNLEdBQUcsR0FBS3NFLEVBQzFCWixFQUFZMUQsTUFBTSxHQUFHLEdBQUtzRSxDQUM1QixFQUVnQ2IsY0FBYUMsY0FDL0MsQ0R2RmFhLEdBQ2JsQixFQUFLTyxZQUNMUCxFQUFLSSxZQUFZL0IsWUFDakIyQixFQUFLSyxZQUFZaEMsWUFDakIyQixFQUFLSSxZQUFZckIsa0JBQ2pCaUIsRUFBS0ksWUFBWXJCLGlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNoaXAgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gIGNvbnN0IHNoaXBMZW5ndGggPSBsZW5ndGg7XG4gIGxldCBudW1iZXJPZkhpdHMgPSAwO1xuICBsZXQgc3VuayA9IGZhbHNlO1xuICBsZXQgY29vcmRzID0gW107XG5cbiAgY29uc3QgaGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubnVtYmVyT2ZIaXRzICs9IDE7XG4gIH07XG5cbiAgY29uc3QgaXNTdW5rID0gZnVuY3Rpb24gKGxlbmd0aCwgbnVtYmVyT2ZIaXRzKSB7XG4gICAgaWYgKGxlbmd0aCA9PSBudW1iZXJPZkhpdHMpIHtcbiAgICAgIHN1bmsgPSB0cnVlO1xuICAgICAgcmV0dXJuIHN1bms7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1bmsgPSBmYWxzZTtcbiAgICAgIHJldHVybiBzdW5rO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyBzaGlwTGVuZ3RoLCBudW1iZXJPZkhpdHMsIGlzU3VuaywgaGl0LCBjb29yZHMgfTtcbn07XG5cbmV4cG9ydCB7IFNoaXAgfTtcbiIsIi8vY2hlY2sgZm9yIGxlZ2FsIG1vdmVzXG5cbmNvbnN0IEdhbWVCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHNoaXBQbGFjZW1lbnRNb2RlID0gXCJob3Jpem9udGFsXCI7XG4gIGxldCBjdXJyZW50U2hpcHMgPSBbXTtcbiAgbGV0IHN1bmtTaGlwcyA9IFtdO1xuICBjb25zdCBtaXNzZWRDb29yZHMgPSBbXTtcbiAgbGV0IHBvdGVudGlhbE1vdmVzID0gW107XG5cbiAgbGV0IGJvYXJkID0gW1xuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgXTtcblxuICBjb25zdCBnZXRQb3RlbnRpYWxNb3ZlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgMTA7IGErKykge1xuICAgICAgICBwb3RlbnRpYWxNb3Zlcy5wdXNoKFthLCBpXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldFVwQ2xpY2tUb0hpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc3F1YXJlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbmRpdmlkdWFsLXNxdWFyZVwiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNxdWFyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIHNxdWFyZXNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrVG9BdHRhY2soKSk7XG4gICAgICBzcXVhcmVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXR0YWNrXCIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhvcml6b250YWwgPSBmdW5jdGlvbiAoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLnNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGN1cnJlbnRDb29yZCA9IFtzdGFydFJvd0Nvb3JkcywgaSArIHN0YXJ0Q29sdW1uQ29vcmRzXTtcbiAgICAgIHNoaXAuY29vcmRzLnB1c2goY3VycmVudENvb3JkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdmVydGljYWwgPSBmdW5jdGlvbiAoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLnNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGN1cnJlbnRDb29yZCA9IFtpICsgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzXTtcbiAgICAgIHNoaXAuY29vcmRzLnB1c2goY3VycmVudENvb3JkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcGxhY2VTaGlwID0gZnVuY3Rpb24gKHNoaXApIHtcbiAgICBzaGlwLmNvb3Jkcy5mb3JFYWNoKChjb29yZCkgPT4ge1xuICAgICAgbGV0IG91dGVyID0gY29vcmRbMF07XG4gICAgICBsZXQgaW5uZXIgPSBjb29yZFsxXTtcbiAgICAgIGJvYXJkW291dGVyXVtpbm5lcl0gPSBzaGlwO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHNldFNoaXBQb3NpdGlvbiA9IGZ1bmN0aW9uIChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpIHtcbiAgICBpZiAoc2hpcFBsYWNlbWVudE1vZGUgPT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgIGhvcml6b250YWwoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKTtcbiAgICB9IGVsc2UgaWYgKHNoaXBQbGFjZW1lbnRNb2RlID09IFwidmVydGljYWxcIikge1xuICAgICAgdmVydGljYWwoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2hlY2tOZXN0ZWRBcnJheSA9IGZ1bmN0aW9uIChhcnJheSwgY29vcmRzKSB7XG4gICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldLmluY2x1ZGVzKGNvb3Jkc1swXSkgJiYgYXJyYXlbaV0uaW5jbHVkZXMoY29vcmRzWzFdKSkge1xuICAgICAgICBtYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRjaDtcbiAgfTtcblxuICBjb25zdCBtYXRjaE1vdmUgPSBmdW5jdGlvbiAoYXJyYXlUb0ZpbmRNYXRjaCwgY29vcmRzKSB7XG4gICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgYXJyYXlUb0ZpbmRNYXRjaC5mb3JFYWNoKChtb3ZlKSA9PiB7XG4gICAgICBpZiAobW92ZVswXSA9PSBjb29yZHNbMF0gJiYgbW92ZVsxXSA9PSBjb29yZHNbMV0pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0cnVlXCIpO1xuICAgICAgICBtYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAobWF0Y2ggPT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsSW5zdGFuY2VzKGFyciwgaXRlbSkge1xuICAgIGZvciAobGV0IGkgPSBhcnIubGVuZ3RoOyBpLS07ICkge1xuICAgICAgaWYgKGFycltpXVswXSA9PSBpdGVtWzBdICYmIGFycltpXVsxXSA9PSBpdGVtWzFdKSBhcnIuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNsaWNrVG9BdHRhY2sgPSBmdW5jdGlvbiAoY29vcmRzLCBvcHBvbmVudEdhbWVCb2FyZCkge1xuICAgIGlmIChvcHBvbmVudEdhbWVCb2FyZC5ib2FyZFtjb29yZHNbMF1dW2Nvb3Jkc1sxXV0gPT0gXCJcIikge1xuICAgICAgY29uc29sZS5sb2coXCJCbGFua1wiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IGZ1bmN0aW9uIChzaGlwLCBjb29yZHMpIHtcbiAgICBpZiAobWF0Y2hNb3ZlKHNoaXAuY29vcmRzLCBjb29yZHMpKSB7XG4gICAgICBzaGlwLmhpdCgpO1xuICAgICAgY29uc29sZS5sb2coXCJoaXRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NlZENvb3Jkcy5wdXNoKGNvb3Jkcyk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoTW92ZShwb3RlbnRpYWxNb3ZlcywgY29vcmRzKSkge1xuICAgICAgcmVtb3ZlQWxsSW5zdGFuY2VzKHBvdGVudGlhbE1vdmVzLCBjb29yZHMpOyAvLyBuZWVkIHRvIGNvZGUgdGhpc1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhbGxTdW5rID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBhbGxTaGlwc1N1bmsgPSBbXTtcbiAgICBjdXJyZW50U2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgaWYgKHNoaXAuc3VuayA9PSBmYWxzZSkge1xuICAgICAgICBhbGxTaGlwc1N1bmsucHVzaChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxTaGlwc1N1bmsucHVzaCh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChhbGxTaGlwc1N1bmsuaW5jbHVkZXMoZmFsc2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkcmF3Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coXCJIaVwiKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29udGFpbmVyXCIpWzBdO1xuICAgIGNvbnNvbGUubG9nKGNvbnRhaW5lcik7XG4gICAgbGV0IGJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYm9hcmQtY29udGFpbmVyXCIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZENvbnRhaW5lcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBib2FyZC5sZW5ndGg7IGErKykge1xuICAgICAgICBsZXQgaW5kaXZpZHVhbFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChcImluZGl2aWR1YWwtc3F1YXJlXCIpO1xuICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoYSk7IC8vIHhcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKGkpOyAvLyB5XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaW5cIik7XG4gICAgICAgIGJvYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZGl2aWR1YWxTcXVhcmUpO1xuICAgICAgICBpZiAoYm9hcmRbaV1bYV0gIT0gXCIgXCIpIHtcbiAgICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJzaGlwXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYm9hcmQsXG4gICAgaG9yaXpvbnRhbCxcbiAgICB2ZXJ0aWNhbCxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIG1pc3NlZENvb3JkcyxcbiAgICBjdXJyZW50U2hpcHMsXG4gICAgYWxsU3VuayxcbiAgICBnZXRQb3RlbnRpYWxNb3ZlcyxcbiAgICBwb3RlbnRpYWxNb3ZlcyxcbiAgICBtYXRjaE1vdmUsXG4gICAgcmVtb3ZlQWxsSW5zdGFuY2VzLFxuICAgIGRyYXdCb2FyZCxcbiAgICBzZXRVcENsaWNrVG9IaXQsXG4gIH07XG59O1xuXG5leHBvcnQgeyBHYW1lQm9hcmQgfTtcblxuLy8gYm9hcmQuZm9yRWFjaCgoYm9hcmQpID0+IHtcbi8vICAgYm9hcmQuZm9yRWFjaCgoaW5uZXJTcXVhcmUpID0+IHtcbi8vICAgICBsZXQgaW5kaXZpZHVhbFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4vLyAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwiaW5kaXZpZHVhbC1zcXVhcmVcIik7XG4vLyAgICAgYm9hcmRDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5kaXZpZHVhbFNxdWFyZSk7XG4vLyAgICAgaWYgKGlubmVyU3F1YXJlWzBdICE9IFwiIFwiKSB7XG4vLyAgICAgICBjb25zb2xlLmxvZyhcInllc1wiKTtcbi8vICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XG4vLyAgICAgfVxuLy8gICB9KTtcbi8vIH0pO1xuIiwiaW1wb3J0IHsgR2FtZUJvYXJkIH0gZnJvbSBcIi4vZ2FtZUJvYXJkXCI7XG5cbmNvbnN0IFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgbmFtZSA9IFwiXCI7XG4gIGxldCBsZWdhbE1vdmVzID0gW107XG4gIGxldCBwcmV2aW91c01vdmVzID0gW107XG4gIGxldCBhdmFpbGFibGVNb3ZlcyA9IFtdO1xuXG4gIGNvbnN0IGdldExlZ2FsTW92ZXMgPSBmdW5jdGlvbiAob3Bwb25lbnRHYW1lYm9hcmQpIHtcbiAgICBsZWdhbE1vdmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHBvbmVudEdhbWVib2FyZC5ib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCAxMDsgYSsrKSB7XG4gICAgICAgIGlmIChvcHBvbmVudEdhbWVib2FyZC5ib2FyZFtpXVthXSA9PSBcIiBcIikge1xuICAgICAgICAgIGxlZ2FsTW92ZXMucHVzaChbaSwgYV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoZWNrTWlzc2VkQ29vcmRzRm9yTWF0Y2ggPSBmdW5jdGlvbiAoXG4gICAgY29vcmRzLFxuICAgIG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlcbiAgKSB7XG4gICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgYXZhaWxhYmxlTW92ZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gY29uc29sZS5sb2cob3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVswXSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzFdKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGNvb3Jkc1swXSA9PSBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzBdKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGNvb3Jkc1sxXSA9PSBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzFdKTtcblxuICAgICAgaWYgKFxuICAgICAgICBjb29yZHNbMF0gPT0gb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVswXSAmJlxuICAgICAgICBjb29yZHNbMV0gPT0gb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVsxXVxuICAgICAgKSB7XG4gICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF2YWlsYWJsZU1vdmVzLnB1c2goW2Nvb3Jkc1swXSwgY29vcmRzWzFdXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coYGF2YWlsYWJsZSA6ICR7YXZhaWxhYmxlTW92ZXN9YCk7XG5cbiAgICBpZiAobWF0Y2ggPT0gdHJ1ZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJJVCBJUyBBIE1BVENIXCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiSVQgSVMgTk9UIEEgTUFUQ0hcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFJhbmRvbUludChtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KTtcbiAgfVxuXG4gIGNvbnN0IHJhbmRvbUF0dGFjayA9IGZ1bmN0aW9uIChvcHBvbmVudEdhbWVib2FyZCkge1xuICAgIGxldCByYW5kb21JbmRleCA9IGdldFJhbmRvbUludChvcHBvbmVudEdhbWVib2FyZC5wb3RlbnRpYWxNb3Zlcy5sZW5ndGggLSAxKTtcbiAgICBsZXQgcmFuZG9tTW92ZSA9IG9wcG9uZW50R2FtZWJvYXJkLnBvdGVudGlhbE1vdmVzW3JhbmRvbUluZGV4XTtcbiAgICByZXR1cm4gcmFuZG9tTW92ZTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgcmFuZG9tQXR0YWNrLFxuICAgIGdldExlZ2FsTW92ZXMsXG4gICAgcmFuZG9tQXR0YWNrLFxuICAgIGNoZWNrTWlzc2VkQ29vcmRzRm9yTWF0Y2gsXG4gIH07XG59O1xuXG5leHBvcnQgeyBQbGF5ZXIgfTtcbiIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgeyBHYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lQm9hcmRcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcblxuLy8gY29uc3QgZ2IxID0gR2FtZUJvYXJkKCk7XG4vLyBjb25zdCBnYjIgPSBHYW1lQm9hcmQoKTtcblxuLy8gLy8gY29uc3QgZ2FtZSA9IEdhbWUoKTtcbi8vIC8vIGNvbnN0IHBsYXllciA9IFBsYXllcigpO1xuLy8gLy8gY29uc3Qgc2hpcCA9IFNoaXAoKTtcbi8vIC8vIHNoaXAuY29vcmRzLnB1c2goWzAsIDFdKTtcbi8vIC8vIGdiLmdldFBvdGVudGlhbE1vdmVzKCk7XG4vLyAvLyBsZXQgbW92ZXMgPSBnYi5wb3RlbnRpYWxNb3Zlcztcbi8vIC8vIGNvbnNvbGUubG9nKGdiLnBvdGVudGlhbE1vdmVzLmxlbmd0aCk7XG4vLyAvLyBnYi5yZWNlaXZlQXR0YWNrKHNoaXAsIFswLCAzXSk7XG4vLyAvLyBjb25zb2xlLmxvZyhnYi5wb3RlbnRpYWxNb3Zlcy5sZW5ndGgpO1xuLy8gZ2IxLmRyYXdCb2FyZCgpO1xuLy8gZ2IyLmRyYXdCb2FyZCgpO1xuY29uc3QgZ2FtZSA9IEdhbWUoKTtcbmdhbWUuc2V0VXBHYW1lKCk7XG5nYW1lLnAxR2FtZWJvYXJkLmRyYXdCb2FyZCgpO1xuZ2FtZS5wMkdhbWVib2FyZC5kcmF3Qm9hcmQoKTtcbmdhbWUucDFHYW1lYm9hcmQuc2V0VXBDbGlja1RvSGl0KCk7XG5nYW1lLnAxR2FtZWJvYXJkLnNldFVwQ2xpY2tUb0hpdCgpO1xuIiwiaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCB7IEdhbWVCb2FyZCB9IGZyb20gXCIuL2dhbWVCb2FyZFwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5cbmNvbnN0IEdhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBwbGF5ZXJPbmUgPSBcIlwiO1xuICBsZXQgcGxheWVyVHdvID0gXCJcIjtcbiAgbGV0IGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJPbmU7XG4gIGxldCBwMUdhbWVib2FyZCA9IEdhbWVCb2FyZCgpO1xuICBsZXQgcDJHYW1lYm9hcmQgPSBHYW1lQm9hcmQoKTtcblxuICBjb25zdCBzd2FwUGxheWVyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjdXJyZW50UGxheWVyID09IHBsYXllck9uZSkge1xuICAgICAgY3VycmVudFBsYXllciA9IHBsYXllclR3bztcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFBsYXllciA9IHBsYXllck9uZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2V0VXBHYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIHBsYXllck9uZSA9IFBsYXllcigpO1xuICAgIC8vIHAxR2FtZWJvYXJkID0gR2FtZUJvYXJkKCk7XG4gICAgY29uc3QgcDFzaGlwMiA9IFNoaXAoMik7XG4gICAgcDFzaGlwMi5jb29yZHMucHVzaChbMCwgMF0pO1xuICAgIHAxc2hpcDIuY29vcmRzLnB1c2goWzAsIDFdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFswXVswXSA9IHAxc2hpcDI7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMF1bMV0gPSBwMXNoaXAyO1xuICAgIGNvbnN0IHAxc2hpcDNhID0gU2hpcCgzKTtcbiAgICBwMXNoaXAzYS5jb29yZHMucHVzaChbMSwgMF0pO1xuICAgIHAxc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAxXSk7XG4gICAgcDFzaGlwM2EuY29vcmRzLnB1c2goWzEsIDJdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsxXVswXSA9IHAxc2hpcDI7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMV1bMV0gPSBwMXNoaXAyO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzFdWzJdID0gcDFzaGlwMjtcbiAgICBjb25zdCBwMXNoaXAzYiA9IFNoaXAoMyk7XG4gICAgcDFzaGlwM2IuY29vcmRzLnB1c2goWzIsIDBdKTtcbiAgICBwMXNoaXAzYi5jb29yZHMucHVzaChbMiwgMV0pO1xuICAgIHAxc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAyXSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMl1bMF0gPSBwMXNoaXAzYjtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsyXVsxXSA9IHAxc2hpcDNiO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzJdWzJdID0gcDFzaGlwM2I7XG4gICAgY29uc3QgcDFzaGlwNCA9IFNoaXAoNCk7XG4gICAgcDFzaGlwNC5jb29yZHMucHVzaChbMywgMF0pO1xuICAgIHAxc2hpcDQuY29vcmRzLnB1c2goWzMsIDFdKTtcbiAgICBwMXNoaXA0LmNvb3Jkcy5wdXNoKFszLCAyXSk7XG4gICAgcDFzaGlwNC5jb29yZHMucHVzaChbMywgM10pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzNdWzBdID0gcDFzaGlwNDtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFszXVsxXSA9IHAxc2hpcDQ7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbM11bMl0gPSBwMXNoaXA0O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzNdWzNdID0gcDFzaGlwNDtcbiAgICBjb25zdCBwMXNoaXA1ID0gU2hpcCg1KTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAwXSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgMV0pO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDJdKTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAzXSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgNF0pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzBdID0gcDFzaGlwNTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVsxXSA9IHAxc2hpcDU7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bMl0gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzNdID0gcDFzaGlwNTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVs0XSA9IHAxc2hpcDU7XG5cbiAgICBwbGF5ZXJUd28gPSBQbGF5ZXIoKTtcbiAgICAvLyBwMkdhbWVib2FyZCA9IEdhbWVCb2FyZCgpO1xuICAgIGNvbnN0IHAyc2hpcDIgPSBTaGlwKDIpO1xuICAgIHAyc2hpcDIuY29vcmRzLnB1c2goWzAsIDBdKTtcbiAgICBwMnNoaXAyLmNvb3Jkcy5wdXNoKFswLCAxXSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMF1bMF0gPSBwMnNoaXAyO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzBdWzFdID0gcDJzaGlwMjtcbiAgICBjb25zdCBwMnNoaXAzYSA9IFNoaXAoMyk7XG4gICAgcDJzaGlwM2EuY29vcmRzLnB1c2goWzEsIDBdKTtcbiAgICBwMnNoaXAzYS5jb29yZHMucHVzaChbMSwgMV0pO1xuICAgIHAyc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAyXSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMV1bMF0gPSBwMnNoaXAzYTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsxXVsxXSA9IHAyc2hpcDNhO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzFdWzJdID0gcDJzaGlwM2E7XG4gICAgY29uc3QgcDJzaGlwM2IgPSBTaGlwKDMpO1xuICAgIHAyc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAwXSk7XG4gICAgcDJzaGlwM2IuY29vcmRzLnB1c2goWzIsIDFdKTtcbiAgICBwMnNoaXAzYi5jb29yZHMucHVzaChbMiwgMl0pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzJdWzBdID0gcDJzaGlwM2I7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMl1bMV0gPSBwMnNoaXAzYjtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsyXVsyXSA9IHAyc2hpcDNiO1xuICAgIGNvbnN0IHAyc2hpcDQgPSBTaGlwKDQpO1xuICAgIHAyc2hpcDQuY29vcmRzLnB1c2goWzMsIDBdKTtcbiAgICBwMnNoaXA0LmNvb3Jkcy5wdXNoKFszLCAxXSk7XG4gICAgcDJzaGlwNC5jb29yZHMucHVzaChbMywgMl0pO1xuICAgIHAyc2hpcDQuY29vcmRzLnB1c2goWzMsIDNdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFszXVswXSA9IHAyc2hpcDQ7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbM11bMV0gPSBwMnNoaXA0O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzNdWzJdID0gcDJzaGlwNDtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFszXVszXSA9IHAyc2hpcDQ7XG4gICAgY29uc3QgcDJzaGlwNSA9IFNoaXAoNSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgMF0pO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDFdKTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAyXSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgM10pO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDRdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVswXSA9IHAyc2hpcDU7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bMV0gPSBwMnNoaXA1O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzJdID0gcDJzaGlwNTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVszXSA9IHAyc2hpcDU7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bNF0gPSBwMnNoaXA1O1xuICB9O1xuXG4gIHJldHVybiB7IHN3YXBQbGF5ZXIsIHNldFVwR2FtZSwgcDFHYW1lYm9hcmQsIHAyR2FtZWJvYXJkIH07XG59O1xuXG5leHBvcnQgeyBHYW1lIH07XG4iXSwibmFtZXMiOlsiU2hpcCIsImxlbmd0aCIsInN1bmsiLCJzaGlwTGVuZ3RoIiwibnVtYmVyT2ZIaXRzIiwiaXNTdW5rIiwiaGl0IiwidGhpcyIsImNvb3JkcyIsIkdhbWVCb2FyZCIsImN1cnJlbnRTaGlwcyIsIm1pc3NlZENvb3JkcyIsInBvdGVudGlhbE1vdmVzIiwiYm9hcmQiLCJtYXRjaE1vdmUiLCJhcnJheVRvRmluZE1hdGNoIiwibWF0Y2giLCJmb3JFYWNoIiwibW92ZSIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVBbGxJbnN0YW5jZXMiLCJhcnIiLCJpdGVtIiwiaSIsInNwbGljZSIsImhvcml6b250YWwiLCJzaGlwIiwic3RhcnRSb3dDb29yZHMiLCJzdGFydENvbHVtbkNvb3JkcyIsImN1cnJlbnRDb29yZCIsInB1c2giLCJ2ZXJ0aWNhbCIsInJlY2VpdmVBdHRhY2siLCJhbGxTdW5rIiwiYWxsU2hpcHNTdW5rIiwiaW5jbHVkZXMiLCJnZXRQb3RlbnRpYWxNb3ZlcyIsImEiLCJkcmF3Qm9hcmQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJib2FyZENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImluZGl2aWR1YWxTcXVhcmUiLCJzZXRVcENsaWNrVG9IaXQiLCJzcXVhcmVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlBsYXllciIsImxlZ2FsTW92ZXMiLCJhdmFpbGFibGVNb3ZlcyIsInJhbmRvbUF0dGFjayIsIm9wcG9uZW50R2FtZWJvYXJkIiwicmFuZG9tSW5kZXgiLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJuYW1lIiwiZ2V0TGVnYWxNb3ZlcyIsImNoZWNrTWlzc2VkQ29vcmRzRm9yTWF0Y2giLCJvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5IiwiZ2FtZSIsInBsYXllck9uZSIsInBsYXllclR3byIsImN1cnJlbnRQbGF5ZXIiLCJwMUdhbWVib2FyZCIsInAyR2FtZWJvYXJkIiwic3dhcFBsYXllciIsInNldFVwR2FtZSIsInAxc2hpcDIiLCJwMXNoaXAzYSIsInAxc2hpcDNiIiwicDFzaGlwNCIsInAxc2hpcDUiLCJwMnNoaXAyIiwicDJzaGlwM2EiLCJwMnNoaXAzYiIsInAyc2hpcDQiLCJwMnNoaXA1IiwiR2FtZSJdLCJzb3VyY2VSb290IjoiIn0=