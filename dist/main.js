(()=>{"use strict";const o=function(o){let s=!1;return{shipLength:o,numberOfHits:0,isSunk:function(o,r){return o==r?(s=!0,s):(s=!1,s)},hit:function(){this.numberOfHits+=1},coords:[]}},s=function(){let o=[];const s=[];let r=[],t=[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]];const e=function(o,s){let r=!1;return o.forEach((o=>{o[0]==s[0]&&o[1]==s[1]&&(console.log("true"),r=!0)})),1==r};function d(o,s){for(let r=o.length;r--;)o[r][0]==s[0]&&o[r][1]==s[1]&&o.splice(r,1)}return{board:t,horizontal:function(o,s,r){for(let t=0;t<o.shipLength;t++){let e=[s,t+r];o.coords.push(e)}},vertical:function(o,s,r){for(let t=0;t<o.shipLength;t++){let e=[t+s,r];o.coords.push(e)}},receiveAttack:function(o,t){e(o.coords,t)?(o.hit(),console.log("hit")):s.push(t),e(r,t)&&d(r,t)},missedCoords:s,currentShips:o,allSunk:function(){let s=[];return o.forEach((o=>{0==o.sunk?s.push(!1):s.push(!0)})),!s.includes(!1)},getPotentialMoves:function(){for(let o=0;o<10;o++)for(let s=0;s<10;s++)r.push([s,o])},potentialMoves:r,matchMove:e,removeAllInstances:d,drawBoard:function(){console.log("Hi");const o=document.getElementsByClassName("container")[0];console.log(o);let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s),t.forEach((o=>{o.forEach((o=>{let r=document.createElement("div");r.classList.add("individual-square"),s.appendChild(r)," "!=o[0]&&(console.log("yes"),r.classList.add("ship"))}))}))},setUpClickToHit:function(){let o=document.getElementsByClassName("individual-square");for(let s=0;s<o.length;s++)o[s].addEventListener("click",(()=>{console.log("HI")}))}}},r=function(){let o=[],s=[];const r=function(o){let s=(r=o.potentialMoves.length-1,Math.floor(Math.random()*r));var r;return o.potentialMoves[s]};return{name:"",randomAttack:r,getLegalMoves:function(s){o=[];for(let r=0;r<s.board.length;r++)for(let t=0;t<10;t++)" "==s.board[r][t]&&o.push([r,t])},randomAttack:r,checkMissedCoordsForMatch:function(o,r){let t=!1;s=[];for(let e=0;e<r.length;e++)o[0]==r[e][0]&&o[1]==r[e][1]?t=!0:s.push([o[0],o[1]]);return 1==t}}},t=function(){let t="",e="",d=t,n=s(),c=s();return{swapPlayer:function(){d=d==t?e:t},setUpGame:function(){t=r();const s=o(2);s.coords.push([0,0]),s.coords.push([0,1]),n.board[0][0]=s,n.board[0][1]=s;const d=o(3);d.coords.push([1,0]),d.coords.push([1,1]),d.coords.push([1,2]),n.board[1][0]=s,n.board[1][1]=s,n.board[1][2]=s;const a=o(3);a.coords.push([2,0]),a.coords.push([2,1]),a.coords.push([2,2]),n.board[2][0]=a,n.board[2][1]=a,n.board[2][2]=a;const u=o(4);u.coords.push([3,0]),u.coords.push([3,1]),u.coords.push([3,2]),u.coords.push([3,3]),n.board[3][0]=u,n.board[3][1]=u,n.board[3][2]=u,n.board[3][3]=u;const l=o(5);l.coords.push([4,0]),l.coords.push([4,1]),l.coords.push([4,2]),l.coords.push([4,3]),l.coords.push([4,4]),n.board[4][0]=l,n.board[4][1]=l,n.board[4][2]=l,n.board[4][3]=l,n.board[4][4]=l,e=r();const h=o(2);h.coords.push([0,0]),h.coords.push([0,1]),c.board[0][0]=h,c.board[0][1]=h;const i=o(3);i.coords.push([1,0]),i.coords.push([1,1]),i.coords.push([1,2]),c.board[1][0]=i,c.board[1][1]=i,c.board[1][2]=i;const p=o(3);p.coords.push([2,0]),p.coords.push([2,1]),p.coords.push([2,2]),c.board[2][0]=p,c.board[2][1]=p,c.board[2][2]=p;const b=o(4);b.coords.push([3,0]),b.coords.push([3,1]),b.coords.push([3,2]),b.coords.push([3,3]),c.board[3][0]=b,c.board[3][1]=b,c.board[3][2]=b,c.board[3][3]=b;const f=o(5);f.coords.push([4,0]),f.coords.push([4,1]),f.coords.push([4,2]),f.coords.push([4,3]),f.coords.push([4,4]),c.board[4][0]=f,c.board[4][1]=f,c.board[4][2]=f,c.board[4][3]=f,c.board[4][4]=f},p1Gameboard:n,p2Gameboard:c}}();t.setUpGame(),t.p1Gameboard.drawBoard(),t.p2Gameboard.drawBoard(),t.p1Gameboard.setUpClickToHit(),t.p1Gameboard.setUpClickToHit()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxHQUFHLEdBQUt1RSxFQUMxQlosRUFBWTNELE1BQU0sR0FBRyxHQUFLdUUsRUFDMUJaLEVBQVkzRCxNQUFNLEdBQUcsR0FBS3VFLEVBQzFCWixFQUFZM0QsTUFBTSxHQUFHLEdBQUt1RSxFQUMxQlosRUFBWTNELE1BQU0sR0FBRyxHQUFLdUUsQ0FDNUIsRUFFZ0NiLGNBQWFDLGNBQy9DLENEdkZhYSxHQUNibEIsRUFBS08sWUFDTFAsRUFBS0ksWUFBWWhDLFlBQ2pCNEIsRUFBS0ssWUFBWWpDLFlBQ2pCNEIsRUFBS0ksWUFBWXJCLGtCQUNqQmlCLEVBQUtJLFlBQVlyQixpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTaGlwID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICBjb25zdCBzaGlwTGVuZ3RoID0gbGVuZ3RoO1xuICBsZXQgbnVtYmVyT2ZIaXRzID0gMDtcbiAgbGV0IHN1bmsgPSBmYWxzZTtcbiAgbGV0IGNvb3JkcyA9IFtdO1xuXG4gIGNvbnN0IGhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm51bWJlck9mSGl0cyArPSAxO1xuICB9O1xuXG4gIGNvbnN0IGlzU3VuayA9IGZ1bmN0aW9uIChsZW5ndGgsIG51bWJlck9mSGl0cykge1xuICAgIGlmIChsZW5ndGggPT0gbnVtYmVyT2ZIaXRzKSB7XG4gICAgICBzdW5rID0gdHJ1ZTtcbiAgICAgIHJldHVybiBzdW5rO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdW5rID0gZmFsc2U7XG4gICAgICByZXR1cm4gc3VuaztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHsgc2hpcExlbmd0aCwgbnVtYmVyT2ZIaXRzLCBpc1N1bmssIGhpdCwgY29vcmRzIH07XG59O1xuXG5leHBvcnQgeyBTaGlwIH07XG4iLCIvL2NoZWNrIGZvciBsZWdhbCBtb3Zlc1xuXG5jb25zdCBHYW1lQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBzaGlwUGxhY2VtZW50TW9kZSA9IFwiaG9yaXpvbnRhbFwiO1xuICBsZXQgY3VycmVudFNoaXBzID0gW107XG4gIGxldCBzdW5rU2hpcHMgPSBbXTtcbiAgY29uc3QgbWlzc2VkQ29vcmRzID0gW107XG4gIGxldCBwb3RlbnRpYWxNb3ZlcyA9IFtdO1xuXG4gIGxldCBib2FyZCA9IFtcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gIF07XG5cbiAgY29uc3QgZ2V0UG90ZW50aWFsTW92ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IDEwOyBhKyspIHtcbiAgICAgICAgcG90ZW50aWFsTW92ZXMucHVzaChbYSwgaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZXRVcENsaWNrVG9IaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNxdWFyZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5kaXZpZHVhbC1zcXVhcmVcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcXVhcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzcXVhcmVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSElcIik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY3VycmVudENvb3JkID0gW3N0YXJ0Um93Q29vcmRzLCBpICsgc3RhcnRDb2x1bW5Db29yZHNdO1xuICAgICAgc2hpcC5jb29yZHMucHVzaChjdXJyZW50Q29vcmQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB2ZXJ0aWNhbCA9IGZ1bmN0aW9uIChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY3VycmVudENvb3JkID0gW2kgKyBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHNdO1xuICAgICAgc2hpcC5jb29yZHMucHVzaChjdXJyZW50Q29vcmQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwbGFjZVNoaXAgPSBmdW5jdGlvbiAoc2hpcCkge1xuICAgIHNoaXAuY29vcmRzLmZvckVhY2goKGNvb3JkKSA9PiB7XG4gICAgICBsZXQgb3V0ZXIgPSBjb29yZFswXTtcbiAgICAgIGxldCBpbm5lciA9IGNvb3JkWzFdO1xuICAgICAgYm9hcmRbb3V0ZXJdW2lubmVyXSA9IHNoaXA7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0U2hpcFBvc2l0aW9uID0gZnVuY3Rpb24gKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcykge1xuICAgIGlmIChzaGlwUGxhY2VtZW50TW9kZSA9PSBcImhvcml6b250YWxcIikge1xuICAgICAgaG9yaXpvbnRhbChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpO1xuICAgIH0gZWxzZSBpZiAoc2hpcFBsYWNlbWVudE1vZGUgPT0gXCJ2ZXJ0aWNhbFwiKSB7XG4gICAgICB2ZXJ0aWNhbChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjaGVja05lc3RlZEFycmF5ID0gZnVuY3Rpb24gKGFycmF5LCBjb29yZHMpIHtcbiAgICBsZXQgbWF0Y2ggPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXlbaV0uaW5jbHVkZXMoY29vcmRzWzBdKSAmJiBhcnJheVtpXS5pbmNsdWRlcyhjb29yZHNbMV0pKSB7XG4gICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoO1xuICB9O1xuXG4gIGNvbnN0IG1hdGNoTW92ZSA9IGZ1bmN0aW9uIChhcnJheVRvRmluZE1hdGNoLCBjb29yZHMpIHtcbiAgICBsZXQgbWF0Y2ggPSBmYWxzZTtcbiAgICBhcnJheVRvRmluZE1hdGNoLmZvckVhY2goKG1vdmUpID0+IHtcbiAgICAgIGlmIChtb3ZlWzBdID09IGNvb3Jkc1swXSAmJiBtb3ZlWzFdID09IGNvb3Jkc1sxXSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInRydWVcIik7XG4gICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChtYXRjaCA9PSB0cnVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiByZW1vdmVBbGxJbnN0YW5jZXMoYXJyLCBpdGVtKSB7XG4gICAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGg7IGktLTsgKSB7XG4gICAgICBpZiAoYXJyW2ldWzBdID09IGl0ZW1bMF0gJiYgYXJyW2ldWzFdID09IGl0ZW1bMV0pIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IGZ1bmN0aW9uIChzaGlwLCBjb29yZHMpIHtcbiAgICBpZiAobWF0Y2hNb3ZlKHNoaXAuY29vcmRzLCBjb29yZHMpKSB7XG4gICAgICBzaGlwLmhpdCgpO1xuICAgICAgY29uc29sZS5sb2coXCJoaXRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pc3NlZENvb3Jkcy5wdXNoKGNvb3Jkcyk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoTW92ZShwb3RlbnRpYWxNb3ZlcywgY29vcmRzKSkge1xuICAgICAgcmVtb3ZlQWxsSW5zdGFuY2VzKHBvdGVudGlhbE1vdmVzLCBjb29yZHMpOyAvLyBuZWVkIHRvIGNvZGUgdGhpc1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhbGxTdW5rID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBhbGxTaGlwc1N1bmsgPSBbXTtcbiAgICBjdXJyZW50U2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgaWYgKHNoaXAuc3VuayA9PSBmYWxzZSkge1xuICAgICAgICBhbGxTaGlwc1N1bmsucHVzaChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxTaGlwc1N1bmsucHVzaCh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChhbGxTaGlwc1N1bmsuaW5jbHVkZXMoZmFsc2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkcmF3Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coXCJIaVwiKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29udGFpbmVyXCIpWzBdO1xuICAgIGNvbnNvbGUubG9nKGNvbnRhaW5lcik7XG4gICAgbGV0IGJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYm9hcmQtY29udGFpbmVyXCIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZENvbnRhaW5lcik7XG4gICAgYm9hcmQuZm9yRWFjaCgoYm9hcmQpID0+IHtcbiAgICAgIGJvYXJkLmZvckVhY2goKGlubmVyU3F1YXJlKSA9PiB7XG4gICAgICAgIGxldCBpbmRpdmlkdWFsU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwiaW5kaXZpZHVhbC1zcXVhcmVcIik7XG4gICAgICAgIGJvYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZGl2aWR1YWxTcXVhcmUpO1xuICAgICAgICBpZiAoaW5uZXJTcXVhcmVbMF0gIT0gXCIgXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInllc1wiKTtcbiAgICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJzaGlwXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGJvYXJkLFxuICAgIGhvcml6b250YWwsXG4gICAgdmVydGljYWwsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICBtaXNzZWRDb29yZHMsXG4gICAgY3VycmVudFNoaXBzLFxuICAgIGFsbFN1bmssXG4gICAgZ2V0UG90ZW50aWFsTW92ZXMsXG4gICAgcG90ZW50aWFsTW92ZXMsXG4gICAgbWF0Y2hNb3ZlLFxuICAgIHJlbW92ZUFsbEluc3RhbmNlcyxcbiAgICBkcmF3Qm9hcmQsXG4gICAgc2V0VXBDbGlja1RvSGl0LFxuICB9O1xufTtcblxuZXhwb3J0IHsgR2FtZUJvYXJkIH07XG4iLCJpbXBvcnQgeyBHYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lQm9hcmRcIjtcblxuY29uc3QgUGxheWVyID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBuYW1lID0gXCJcIjtcbiAgbGV0IGxlZ2FsTW92ZXMgPSBbXTtcbiAgbGV0IHByZXZpb3VzTW92ZXMgPSBbXTtcbiAgbGV0IGF2YWlsYWJsZU1vdmVzID0gW107XG5cbiAgY29uc3QgZ2V0TGVnYWxNb3ZlcyA9IGZ1bmN0aW9uIChvcHBvbmVudEdhbWVib2FyZCkge1xuICAgIGxlZ2FsTW92ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wcG9uZW50R2FtZWJvYXJkLmJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IDEwOyBhKyspIHtcbiAgICAgICAgaWYgKG9wcG9uZW50R2FtZWJvYXJkLmJvYXJkW2ldW2FdID09IFwiIFwiKSB7XG4gICAgICAgICAgbGVnYWxNb3Zlcy5wdXNoKFtpLCBhXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2hlY2tNaXNzZWRDb29yZHNGb3JNYXRjaCA9IGZ1bmN0aW9uIChcbiAgICBjb29yZHMsXG4gICAgb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVxuICApIHtcbiAgICBsZXQgbWF0Y2ggPSBmYWxzZTtcbiAgICBhdmFpbGFibGVNb3ZlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzBdKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMV0pO1xuICAgICAgLy8gY29uc29sZS5sb2coY29vcmRzWzBdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMF0pO1xuICAgICAgLy8gY29uc29sZS5sb2coY29vcmRzWzFdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMV0pO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGNvb3Jkc1swXSA9PSBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzBdICYmXG4gICAgICAgIGNvb3Jkc1sxXSA9PSBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzFdXG4gICAgICApIHtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXZhaWxhYmxlTW92ZXMucHVzaChbY29vcmRzWzBdLCBjb29yZHNbMV1dKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb25zb2xlLmxvZyhgYXZhaWxhYmxlIDogJHthdmFpbGFibGVNb3Zlc31gKTtcblxuICAgIGlmIChtYXRjaCA9PSB0cnVlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIklUIElTIEEgTUFUQ0hcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJJVCBJUyBOT1QgQSBNQVRDSFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpO1xuICB9XG5cbiAgY29uc3QgcmFuZG9tQXR0YWNrID0gZnVuY3Rpb24gKG9wcG9uZW50R2FtZWJvYXJkKSB7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gZ2V0UmFuZG9tSW50KG9wcG9uZW50R2FtZWJvYXJkLnBvdGVudGlhbE1vdmVzLmxlbmd0aCAtIDEpO1xuICAgIGxldCByYW5kb21Nb3ZlID0gb3Bwb25lbnRHYW1lYm9hcmQucG90ZW50aWFsTW92ZXNbcmFuZG9tSW5kZXhdO1xuICAgIHJldHVybiByYW5kb21Nb3ZlO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICByYW5kb21BdHRhY2ssXG4gICAgZ2V0TGVnYWxNb3ZlcyxcbiAgICByYW5kb21BdHRhY2ssXG4gICAgY2hlY2tNaXNzZWRDb29yZHNGb3JNYXRjaCxcbiAgfTtcbn07XG5cbmV4cG9ydCB7IFBsYXllciB9O1xuIiwiaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCB7IEdhbWVCb2FyZCB9IGZyb20gXCIuL2dhbWVCb2FyZFwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xuXG4vLyBjb25zdCBnYjEgPSBHYW1lQm9hcmQoKTtcbi8vIGNvbnN0IGdiMiA9IEdhbWVCb2FyZCgpO1xuXG4vLyAvLyBjb25zdCBnYW1lID0gR2FtZSgpO1xuLy8gLy8gY29uc3QgcGxheWVyID0gUGxheWVyKCk7XG4vLyAvLyBjb25zdCBzaGlwID0gU2hpcCgpO1xuLy8gLy8gc2hpcC5jb29yZHMucHVzaChbMCwgMV0pO1xuLy8gLy8gZ2IuZ2V0UG90ZW50aWFsTW92ZXMoKTtcbi8vIC8vIGxldCBtb3ZlcyA9IGdiLnBvdGVudGlhbE1vdmVzO1xuLy8gLy8gY29uc29sZS5sb2coZ2IucG90ZW50aWFsTW92ZXMubGVuZ3RoKTtcbi8vIC8vIGdiLnJlY2VpdmVBdHRhY2soc2hpcCwgWzAsIDNdKTtcbi8vIC8vIGNvbnNvbGUubG9nKGdiLnBvdGVudGlhbE1vdmVzLmxlbmd0aCk7XG4vLyBnYjEuZHJhd0JvYXJkKCk7XG4vLyBnYjIuZHJhd0JvYXJkKCk7XG5jb25zdCBnYW1lID0gR2FtZSgpO1xuZ2FtZS5zZXRVcEdhbWUoKTtcbmdhbWUucDFHYW1lYm9hcmQuZHJhd0JvYXJkKCk7XG5nYW1lLnAyR2FtZWJvYXJkLmRyYXdCb2FyZCgpO1xuZ2FtZS5wMUdhbWVib2FyZC5zZXRVcENsaWNrVG9IaXQoKTtcbmdhbWUucDFHYW1lYm9hcmQuc2V0VXBDbGlja1RvSGl0KCk7XG4iLCJpbXBvcnQgeyBTaGlwIH0gZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IHsgR2FtZUJvYXJkIH0gZnJvbSBcIi4vZ2FtZUJvYXJkXCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJcIjtcblxuY29uc3QgR2FtZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHBsYXllck9uZSA9IFwiXCI7XG4gIGxldCBwbGF5ZXJUd28gPSBcIlwiO1xuICBsZXQgY3VycmVudFBsYXllciA9IHBsYXllck9uZTtcbiAgbGV0IHAxR2FtZWJvYXJkID0gR2FtZUJvYXJkKCk7XG4gIGxldCBwMkdhbWVib2FyZCA9IEdhbWVCb2FyZCgpO1xuXG4gIGNvbnN0IHN3YXBQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGN1cnJlbnRQbGF5ZXIgPT0gcGxheWVyT25lKSB7XG4gICAgICBjdXJyZW50UGxheWVyID0gcGxheWVyVHdvO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50UGxheWVyID0gcGxheWVyT25lO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZXRVcEdhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGxheWVyT25lID0gUGxheWVyKCk7XG4gICAgLy8gcDFHYW1lYm9hcmQgPSBHYW1lQm9hcmQoKTtcbiAgICBjb25zdCBwMXNoaXAyID0gU2hpcCgyKTtcbiAgICBwMXNoaXAyLmNvb3Jkcy5wdXNoKFswLCAwXSk7XG4gICAgcDFzaGlwMi5jb29yZHMucHVzaChbMCwgMV0pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzBdWzBdID0gcDFzaGlwMjtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFswXVsxXSA9IHAxc2hpcDI7XG4gICAgY29uc3QgcDFzaGlwM2EgPSBTaGlwKDMpO1xuICAgIHAxc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAwXSk7XG4gICAgcDFzaGlwM2EuY29vcmRzLnB1c2goWzEsIDFdKTtcbiAgICBwMXNoaXAzYS5jb29yZHMucHVzaChbMSwgMl0pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzFdWzBdID0gcDFzaGlwMjtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsxXVsxXSA9IHAxc2hpcDI7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMV1bMl0gPSBwMXNoaXAyO1xuICAgIGNvbnN0IHAxc2hpcDNiID0gU2hpcCgzKTtcbiAgICBwMXNoaXAzYi5jb29yZHMucHVzaChbMiwgMF0pO1xuICAgIHAxc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAxXSk7XG4gICAgcDFzaGlwM2IuY29vcmRzLnB1c2goWzIsIDJdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsyXVswXSA9IHAxc2hpcDNiO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzJdWzFdID0gcDFzaGlwM2I7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMl1bMl0gPSBwMXNoaXAzYjtcbiAgICBjb25zdCBwMXNoaXA0ID0gU2hpcCg0KTtcbiAgICBwMXNoaXA0LmNvb3Jkcy5wdXNoKFszLCAwXSk7XG4gICAgcDFzaGlwNC5jb29yZHMucHVzaChbMywgMV0pO1xuICAgIHAxc2hpcDQuY29vcmRzLnB1c2goWzMsIDJdKTtcbiAgICBwMXNoaXA0LmNvb3Jkcy5wdXNoKFszLCAzXSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbM11bMF0gPSBwMXNoaXA0O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzNdWzFdID0gcDFzaGlwNDtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFszXVsyXSA9IHAxc2hpcDQ7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbM11bM10gPSBwMXNoaXA0O1xuICAgIGNvbnN0IHAxc2hpcDUgPSBTaGlwKDUpO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDBdKTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAxXSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgMl0pO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDNdKTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCA0XSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bMF0gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzFdID0gcDFzaGlwNTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVsyXSA9IHAxc2hpcDU7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bM10gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzRdID0gcDFzaGlwNTtcblxuICAgIHBsYXllclR3byA9IFBsYXllcigpO1xuICAgIC8vIHAyR2FtZWJvYXJkID0gR2FtZUJvYXJkKCk7XG4gICAgY29uc3QgcDJzaGlwMiA9IFNoaXAoMik7XG4gICAgcDJzaGlwMi5jb29yZHMucHVzaChbMCwgMF0pO1xuICAgIHAyc2hpcDIuY29vcmRzLnB1c2goWzAsIDFdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFswXVswXSA9IHAyc2hpcDI7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMF1bMV0gPSBwMnNoaXAyO1xuICAgIGNvbnN0IHAyc2hpcDNhID0gU2hpcCgzKTtcbiAgICBwMnNoaXAzYS5jb29yZHMucHVzaChbMSwgMF0pO1xuICAgIHAyc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAxXSk7XG4gICAgcDJzaGlwM2EuY29vcmRzLnB1c2goWzEsIDJdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsxXVswXSA9IHAyc2hpcDNhO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzFdWzFdID0gcDJzaGlwM2E7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMV1bMl0gPSBwMnNoaXAzYTtcbiAgICBjb25zdCBwMnNoaXAzYiA9IFNoaXAoMyk7XG4gICAgcDJzaGlwM2IuY29vcmRzLnB1c2goWzIsIDBdKTtcbiAgICBwMnNoaXAzYi5jb29yZHMucHVzaChbMiwgMV0pO1xuICAgIHAyc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAyXSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMl1bMF0gPSBwMnNoaXAzYjtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsyXVsxXSA9IHAyc2hpcDNiO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzJdWzJdID0gcDJzaGlwM2I7XG4gICAgY29uc3QgcDJzaGlwNCA9IFNoaXAoNCk7XG4gICAgcDJzaGlwNC5jb29yZHMucHVzaChbMywgMF0pO1xuICAgIHAyc2hpcDQuY29vcmRzLnB1c2goWzMsIDFdKTtcbiAgICBwMnNoaXA0LmNvb3Jkcy5wdXNoKFszLCAyXSk7XG4gICAgcDJzaGlwNC5jb29yZHMucHVzaChbMywgM10pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzNdWzBdID0gcDJzaGlwNDtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFszXVsxXSA9IHAyc2hpcDQ7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbM11bMl0gPSBwMnNoaXA0O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzNdWzNdID0gcDJzaGlwNDtcbiAgICBjb25zdCBwMnNoaXA1ID0gU2hpcCg1KTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAwXSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgMV0pO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDJdKTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAzXSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgNF0pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzBdID0gcDJzaGlwNTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVsxXSA9IHAyc2hpcDU7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bMl0gPSBwMnNoaXA1O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzNdID0gcDJzaGlwNTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVs0XSA9IHAyc2hpcDU7XG4gIH07XG5cbiAgcmV0dXJuIHsgc3dhcFBsYXllciwgc2V0VXBHYW1lLCBwMUdhbWVib2FyZCwgcDJHYW1lYm9hcmQgfTtcbn07XG5cbmV4cG9ydCB7IEdhbWUgfTtcbiJdLCJuYW1lcyI6WyJTaGlwIiwibGVuZ3RoIiwic3VuayIsInNoaXBMZW5ndGgiLCJudW1iZXJPZkhpdHMiLCJpc1N1bmsiLCJoaXQiLCJ0aGlzIiwiY29vcmRzIiwiR2FtZUJvYXJkIiwiY3VycmVudFNoaXBzIiwibWlzc2VkQ29vcmRzIiwicG90ZW50aWFsTW92ZXMiLCJib2FyZCIsIm1hdGNoTW92ZSIsImFycmF5VG9GaW5kTWF0Y2giLCJtYXRjaCIsImZvckVhY2giLCJtb3ZlIiwiY29uc29sZSIsImxvZyIsInJlbW92ZUFsbEluc3RhbmNlcyIsImFyciIsIml0ZW0iLCJpIiwic3BsaWNlIiwiaG9yaXpvbnRhbCIsInNoaXAiLCJzdGFydFJvd0Nvb3JkcyIsInN0YXJ0Q29sdW1uQ29vcmRzIiwiY3VycmVudENvb3JkIiwicHVzaCIsInZlcnRpY2FsIiwicmVjZWl2ZUF0dGFjayIsImFsbFN1bmsiLCJhbGxTaGlwc1N1bmsiLCJpbmNsdWRlcyIsImdldFBvdGVudGlhbE1vdmVzIiwiYSIsImRyYXdCb2FyZCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImJvYXJkQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiaW5uZXJTcXVhcmUiLCJpbmRpdmlkdWFsU3F1YXJlIiwic2V0VXBDbGlja1RvSGl0Iiwic3F1YXJlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJQbGF5ZXIiLCJsZWdhbE1vdmVzIiwiYXZhaWxhYmxlTW92ZXMiLCJyYW5kb21BdHRhY2siLCJvcHBvbmVudEdhbWVib2FyZCIsInJhbmRvbUluZGV4IiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibmFtZSIsImdldExlZ2FsTW92ZXMiLCJjaGVja01pc3NlZENvb3Jkc0Zvck1hdGNoIiwib3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheSIsImdhbWUiLCJwbGF5ZXJPbmUiLCJwbGF5ZXJUd28iLCJjdXJyZW50UGxheWVyIiwicDFHYW1lYm9hcmQiLCJwMkdhbWVib2FyZCIsInN3YXBQbGF5ZXIiLCJzZXRVcEdhbWUiLCJwMXNoaXAyIiwicDFzaGlwM2EiLCJwMXNoaXAzYiIsInAxc2hpcDQiLCJwMXNoaXA1IiwicDJzaGlwMiIsInAyc2hpcDNhIiwicDJzaGlwM2IiLCJwMnNoaXA0IiwicDJzaGlwNSIsIkdhbWUiXSwic291cmNlUm9vdCI6IiJ9