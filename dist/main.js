(()=>{"use strict";const o=function(o){let s=0,t=!1;return{shipLength:o,numberOfHits:s,isSunk:function(){return s>=o&&(t=!0,!0)},hit:function(){s+=1},coords:[],length:o,sunk:t}},s=function(o,s){let t=[];const e=[];let r=[],n=o,c=[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]];const d=function(){n=n==o?s:o,console.log("swap"),console.log(n)},a=function(o,s){let t=!1;return o.forEach((o=>{o[0]==s[0]&&o[1]==s[1]&&(t=!0)})),1==t};function u(o,s){for(let t=o.length;t--;)o[t][0]==s[0]&&o[t][1]==s[1]&&o.splice(t,1)}const l=function(o,s){let n=c[o[1]][o[0]];if(console.log(`coords = ${o}`),0==a(r,o))console.log("Retry bro");else{if(" "==n)e.push(o),console.log("miss"),function(o){o.classList.add("miss")}(s),d();else{let e=[];e.push(o[1]),e.push(o[0]),a(n.coords,e)&&(n.hit(),function(o){o.classList.add("hit")}(s),n.isSunk(),d(),n.isSunk()&&(function(o){for(let s=0;s<o.coords.length;s++)o.coords[s][0],o.coords[s][1]}(n),t.push(n)),i(),console.log("hit"),e=[])}a(r,o)&&u(r,o)}},i=function(){return 5==t.length&&(alert("DONE!"),!0)},h=function(o){let s=o.classList,t=s[1],e="oops";return parseInt(s[2]),e=parseInt(s[2])>=0?s[2]:s[1],[t,e]};return{board:c,horizontal:function(o,s,t){for(let e=0;e<o.shipLength;e++){let r=[s,e+t];o.coords.push(r)}},vertical:function(o,s,t){for(let e=0;e<o.shipLength;e++){let r=[e+s,t];o.coords.push(r)}},receiveAttack:l,missedCoords:e,currentShips:[],allSunk:i,getPotentialMoves:function(){for(let o=0;o<10;o++)for(let s=0;s<10;s++)r.push([s,o])},potentialMoves:r,matchMove:a,removeAllInstances:u,drawBoard:function(){const o=document.getElementsByClassName("container")[0];let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s);for(let o=0;o<c.length;o++)for(let t=0;t<c.length;t++){let e=document.createElement("div");e.classList.add("individual-square"),e.classList.add(t),e.classList.add(o),s.appendChild(e)," "!=c[o][t]&&e.classList.add("ship")}},setUpClickToHit:function(){let o=document.getElementsByClassName("individual-square");for(let s=0;s<o.length;s++)o[s].addEventListener("click",(()=>{l(h(o[s]),o[s])}))},drawComputerBoard:function(){const o=document.getElementsByClassName("container")[0];let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s);for(let o=0;o<c.length;o++)for(let t=0;t<c.length;t++){let e=document.createElement("div");e.classList.add("individual-square"),e.classList.add(t),e.classList.add(o),s.appendChild(e)}},sunkShips:t}},t=function(){let o=[];const s=function(o){let s=(t=o.potentialMoves.length-1,Math.floor(Math.random()*t));var t;return o.potentialMoves[s]};return{name:"",randomAttack:s,getLegalMoves:function(s){o=[];for(let t=0;t<s.board.length;t++)for(let e=0;e<10;e++)" "==s.board[t][e]&&o.push([t,e])},randomAttack:s,checkMissedCoordsForMatch:function(o,s){let t=!1;availableMoves=[];for(let e=0;e<s.length;e++)o[0]==s[e][0]&&o[1]==s[e][1]?t=!0:availableMoves.push([o[0],o[1]]);return 1==t}}};(function(){let e=t();e.name="jeff";let r=t(),n=s(e,r),c=s(e,r);return n.getPotentialMoves(),c.getPotentialMoves(),{setUpGame:function(){!function(){const s=o(2);s.coords.push([0,0]),s.coords.push([0,1]),n.board[0][0]=s,n.board[0][1]=s;const t=o(3);t.coords.push([1,0]),t.coords.push([1,1]),t.coords.push([1,2]),n.board[1][0]=t,n.board[1][1]=t,n.board[1][2]=t;const e=o(3);e.coords.push([2,0]),e.coords.push([2,1]),e.coords.push([2,2]),n.board[2][0]=e,n.board[2][1]=e,n.board[2][2]=e;const r=o(4);r.coords.push([3,0]),r.coords.push([3,1]),r.coords.push([3,2]),r.coords.push([3,3]),n.board[3][0]=r,n.board[3][1]=r,n.board[3][2]=r,n.board[3][3]=r;const c=o(5);c.coords.push([4,0]),c.coords.push([4,1]),c.coords.push([4,2]),c.coords.push([4,3]),c.coords.push([4,4]),n.board[4][0]=c,n.board[4][1]=c,n.board[4][2]=c,n.board[4][3]=c,n.board[4][4]=c,n.currentShips.push(s),n.currentShips.push(t),n.currentShips.push(e),n.currentShips.push(r),n.currentShips.push(c)}(),function(){const s=o(2);s.coords.push([0,0]),s.coords.push([0,1]),c.board[0][0]=s,c.board[0][1]=s;const t=o(3);t.coords.push([1,0]),t.coords.push([1,1]),t.coords.push([1,2]),c.board[1][0]=t,c.board[1][1]=t,c.board[1][2]=t;const e=o(3);e.coords.push([2,0]),e.coords.push([2,1]),e.coords.push([2,2]),c.board[2][0]=e,c.board[2][1]=e,c.board[2][2]=e;const r=o(4);r.coords.push([3,0]),r.coords.push([3,1]),r.coords.push([3,2]),r.coords.push([3,3]),c.board[3][0]=r,c.board[3][1]=r,c.board[3][2]=r,c.board[3][3]=r;const n=o(5);n.coords.push([4,0]),n.coords.push([4,1]),n.coords.push([4,2]),n.coords.push([4,3]),n.coords.push([4,4]),c.board[4][0]=n,c.board[4][1]=n,c.board[4][2]=n,c.board[4][3]=n,c.board[4][4]=n,c.currentShips.push(s),c.currentShips.push(t),c.currentShips.push(e),c.currentShips.push(r),c.currentShips.push(n)}(),n.drawBoard(),c.drawComputerBoard(),n.setUpClickToHit(),c.setUpClickToHit()},p1Gameboard:n,p2Gameboard:c}})().setUpGame()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNoaXAgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gIGNvbnN0IHNoaXBMZW5ndGggPSBsZW5ndGg7XG4gIGxldCBudW1iZXJPZkhpdHMgPSAwO1xuICBsZXQgc3VuayA9IGZhbHNlO1xuICBsZXQgY29vcmRzID0gW107XG5cbiAgY29uc3QgaGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIG51bWJlck9mSGl0cyArPSAxO1xuICB9O1xuXG4gIGNvbnN0IGlzU3VuayA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobnVtYmVyT2ZIaXRzID49IGxlbmd0aCkge1xuICAgICAgc3VuayA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyBzaGlwTGVuZ3RoLCBudW1iZXJPZkhpdHMsIGlzU3VuaywgaGl0LCBjb29yZHMsIGxlbmd0aCwgc3VuayB9O1xufTtcblxuZXhwb3J0IHsgU2hpcCB9O1xuIiwiY29uc3QgR2FtZUJvYXJkID0gZnVuY3Rpb24gKHBsYXllck9uZSwgcGxheWVyVHdvKSB7XG4gIGxldCBzaGlwUGxhY2VtZW50TW9kZSA9IFwiaG9yaXpvbnRhbFwiO1xuICBsZXQgY3VycmVudFNoaXBzID0gW107XG4gIGxldCBzdW5rU2hpcHMgPSBbXTtcbiAgY29uc3QgbWlzc2VkQ29vcmRzID0gW107XG4gIGxldCBwb3RlbnRpYWxNb3ZlcyA9IFtdO1xuICBsZXQgY3VycmVudFBsYXllciA9IHBsYXllck9uZTtcblxuICBsZXQgYm9hcmQgPSBbXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICBdO1xuXG4gIGNvbnN0IGdldFBvdGVudGlhbE1vdmVzID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCAxMDsgYSsrKSB7XG4gICAgICAgIHBvdGVudGlhbE1vdmVzLnB1c2goW2EsIGldKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3dhcFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY3VycmVudFBsYXllciA9PSBwbGF5ZXJPbmUpIHtcbiAgICAgIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJUd287XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJPbmU7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwic3dhcFwiKTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50UGxheWVyKTtcbiAgfTtcblxuICBjb25zdCBzZXRVcENsaWNrVG9IaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNxdWFyZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5kaXZpZHVhbC1zcXVhcmVcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcXVhcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzcXVhcmVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHJlY2VpdmVBdHRhY2soY2xhc3NUb0Nvb3JkcyhzcXVhcmVzW2ldKSwgc3F1YXJlc1tpXSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY3VycmVudENvb3JkID0gW3N0YXJ0Um93Q29vcmRzLCBpICsgc3RhcnRDb2x1bW5Db29yZHNdO1xuICAgICAgc2hpcC5jb29yZHMucHVzaChjdXJyZW50Q29vcmQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB2ZXJ0aWNhbCA9IGZ1bmN0aW9uIChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY3VycmVudENvb3JkID0gW2kgKyBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHNdO1xuICAgICAgc2hpcC5jb29yZHMucHVzaChjdXJyZW50Q29vcmQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwbGFjZVNoaXAgPSBmdW5jdGlvbiAoc2hpcCkge1xuICAgIHNoaXAuY29vcmRzLmZvckVhY2goKGNvb3JkKSA9PiB7XG4gICAgICBsZXQgb3V0ZXIgPSBjb29yZFswXTtcbiAgICAgIGxldCBpbm5lciA9IGNvb3JkWzFdO1xuICAgICAgYm9hcmRbb3V0ZXJdW2lubmVyXSA9IHNoaXA7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0U2hpcFBvc2l0aW9uID0gZnVuY3Rpb24gKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcykge1xuICAgIGlmIChzaGlwUGxhY2VtZW50TW9kZSA9PSBcImhvcml6b250YWxcIikge1xuICAgICAgaG9yaXpvbnRhbChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpO1xuICAgIH0gZWxzZSBpZiAoc2hpcFBsYWNlbWVudE1vZGUgPT0gXCJ2ZXJ0aWNhbFwiKSB7XG4gICAgICB2ZXJ0aWNhbChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBtYXRjaE1vdmUgPSBmdW5jdGlvbiAoYXJyYXlUb0ZpbmRNYXRjaCwgY29vcmRzKSB7XG4gICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgYXJyYXlUb0ZpbmRNYXRjaC5mb3JFYWNoKChtb3ZlKSA9PiB7XG4gICAgICBpZiAobW92ZVswXSA9PSBjb29yZHNbMF0gJiYgbW92ZVsxXSA9PSBjb29yZHNbMV0pIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0cnVlXCIpO1xuICAgICAgICBtYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAobWF0Y2ggPT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsSW5zdGFuY2VzKGFyciwgaXRlbSkge1xuICAgIGZvciAobGV0IGkgPSBhcnIubGVuZ3RoOyBpLS07ICkge1xuICAgICAgaWYgKGFycltpXVswXSA9PSBpdGVtWzBdICYmIGFycltpXVsxXSA9PSBpdGVtWzFdKSBhcnIuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGRpc3BsYXlIaXQgPSBmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheU1pc3MgPSBmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJtaXNzXCIpO1xuICB9O1xuXG4gIGNvbnN0IHNoaXBTdW5rID0gZnVuY3Rpb24gKHNoaXApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgeCA9IHNoaXAuY29vcmRzW2ldWzBdO1xuICAgICAgbGV0IHkgPSBzaGlwLmNvb3Jkc1tpXVsxXTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IGZ1bmN0aW9uIChjb29yZHMsIHNxdWFyZSkge1xuICAgIGxldCBzaGlwID0gYm9hcmRbY29vcmRzWzFdXVtjb29yZHNbMF1dOyAvLyB4IGFuZCB5IG11c3QgYmUgc3dhcHBlZCBmb3IgZ2FtZSBib2FyZFxuXG4gICAgLy8gaWYgbm90IGEgbGVnYWwgbW92ZSwgcmV0cnlcbiAgICBjb25zb2xlLmxvZyhgY29vcmRzID0gJHtjb29yZHN9YCk7XG4gICAgaWYgKG1hdGNoTW92ZShwb3RlbnRpYWxNb3ZlcywgY29vcmRzKSA9PSBmYWxzZSkge1xuICAgICAgY29uc29sZS5sb2coXCJSZXRyeSBicm9cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzaGlwID09IFwiIFwiKSB7XG4gICAgICAgIG1pc3NlZENvb3Jkcy5wdXNoKGNvb3Jkcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibWlzc1wiKTtcbiAgICAgICAgZGlzcGxheU1pc3Moc3F1YXJlKTtcbiAgICAgICAgc3dhcFBsYXllcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHN3YXBwZWRDb29yZHMgPSBbXTtcbiAgICAgICAgc3dhcHBlZENvb3Jkcy5wdXNoKGNvb3Jkc1sxXSk7XG4gICAgICAgIHN3YXBwZWRDb29yZHMucHVzaChjb29yZHNbMF0pO1xuICAgICAgICBpZiAobWF0Y2hNb3ZlKHNoaXAuY29vcmRzLCBzd2FwcGVkQ29vcmRzKSkge1xuICAgICAgICAgIHNoaXAuaGl0KCk7XG4gICAgICAgICAgZGlzcGxheUhpdChzcXVhcmUpO1xuICAgICAgICAgIHNoaXAuaXNTdW5rKCk7XG4gICAgICAgICAgc3dhcFBsYXllcigpOyAvLyBzd2FwXG4gICAgICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgICAgIHNoaXBTdW5rKHNoaXApO1xuICAgICAgICAgICAgc3Vua1NoaXBzLnB1c2goc2hpcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFsbFN1bmsoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImhpdFwiKTtcbiAgICAgICAgICBzd2FwcGVkQ29vcmRzID0gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaE1vdmUocG90ZW50aWFsTW92ZXMsIGNvb3JkcykpIHtcbiAgICAgICAgcmVtb3ZlQWxsSW5zdGFuY2VzKHBvdGVudGlhbE1vdmVzLCBjb29yZHMpOyAvLyBuZWVkIHRvIGNvZGUgdGhpc1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBhbGxTdW5rID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdW5rU2hpcHMubGVuZ3RoID09IDUpIHtcbiAgICAgIGFsZXJ0KFwiRE9ORSFcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkcmF3Qm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbnRhaW5lclwiKVswXTtcbiAgICBsZXQgYm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJvYXJkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJib2FyZC1jb250YWluZXJcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJvYXJkQ29udGFpbmVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGJvYXJkLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIGxldCBpbmRpdmlkdWFsU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwiaW5kaXZpZHVhbC1zcXVhcmVcIik7XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChhKTsgLy8geFxuICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoaSk7IC8vIHlcbiAgICAgICAgYm9hcmRDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5kaXZpZHVhbFNxdWFyZSk7XG4gICAgICAgIGlmIChib2FyZFtpXVthXSAhPSBcIiBcIikge1xuICAgICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZHJhd0NvbXB1dGVyQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbnRhaW5lclwiKVswXTtcbiAgICBsZXQgYm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJvYXJkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJib2FyZC1jb250YWluZXJcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJvYXJkQ29udGFpbmVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGJvYXJkLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIGxldCBpbmRpdmlkdWFsU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwiaW5kaXZpZHVhbC1zcXVhcmVcIik7XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChhKTsgLy8geFxuICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoaSk7IC8vIHlcbiAgICAgICAgYm9hcmRDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5kaXZpZHVhbFNxdWFyZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNsYXNzVG9Db29yZHMgPSBmdW5jdGlvbiAoaW5kaXZpZHVhbFNxdWFyZSkge1xuICAgIGxldCBjbGFzc2VzID0gaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3Q7XG4gICAgbGV0IHggPSBjbGFzc2VzWzFdO1xuICAgIGxldCB5ID0gXCJvb3BzXCI7IC8vIHRvIHN0b3AgZXJyb3JzXG4gICAgbGV0IHRlbXAgPSBwYXJzZUludChjbGFzc2VzWzJdKTtcbiAgICBpZiAocGFyc2VJbnQoY2xhc3Nlc1syXSkgPj0gMCkge1xuICAgICAgeSA9IGNsYXNzZXNbMl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgPSBjbGFzc2VzWzFdO1xuICAgIH1cbiAgICByZXR1cm4gW3gsIHldO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYm9hcmQsXG4gICAgaG9yaXpvbnRhbCxcbiAgICB2ZXJ0aWNhbCxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIG1pc3NlZENvb3JkcyxcbiAgICBjdXJyZW50U2hpcHMsXG4gICAgYWxsU3VuayxcbiAgICBnZXRQb3RlbnRpYWxNb3ZlcyxcbiAgICBwb3RlbnRpYWxNb3ZlcyxcbiAgICBtYXRjaE1vdmUsXG4gICAgcmVtb3ZlQWxsSW5zdGFuY2VzLFxuICAgIGRyYXdCb2FyZCxcbiAgICBzZXRVcENsaWNrVG9IaXQsXG4gICAgZHJhd0NvbXB1dGVyQm9hcmQsXG4gICAgc3Vua1NoaXBzLFxuICB9O1xufTtcblxuZXhwb3J0IHsgR2FtZUJvYXJkIH07XG5cbi8vIGNvbnN0IGNoZWNrTmVzdGVkQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXksIGNvb3Jkcykge1xuLy8gICBsZXQgbWF0Y2ggPSBmYWxzZTtcbi8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuLy8gICAgIGlmIChhcnJheVtpXS5pbmNsdWRlcyhjb29yZHNbMF0pICYmIGFycmF5W2ldLmluY2x1ZGVzKGNvb3Jkc1sxXSkpIHtcbi8vICAgICAgIG1hdGNoID0gdHJ1ZTtcbi8vICAgICB9XG4vLyAgIH1cbi8vICAgcmV0dXJuIG1hdGNoO1xuLy8gfTtcbiIsImltcG9ydCB7IEdhbWVCb2FyZCB9IGZyb20gXCIuL2dhbWVCb2FyZFwiO1xuXG5jb25zdCBQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IG5hbWUgPSBcIlwiO1xuICBsZXQgbGVnYWxNb3ZlcyA9IFtdO1xuICAvLyBsZXQgcHJldmlvdXNNb3ZlcyA9IFtdO1xuICAvLyBsZXQgYXZhaWxhYmxlTW92ZXMgPSBbXTtcblxuICBjb25zdCBnZXRMZWdhbE1vdmVzID0gZnVuY3Rpb24gKG9wcG9uZW50R2FtZWJvYXJkKSB7XG4gICAgbGVnYWxNb3ZlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3Bwb25lbnRHYW1lYm9hcmQuYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgMTA7IGErKykge1xuICAgICAgICBpZiAob3Bwb25lbnRHYW1lYm9hcmQuYm9hcmRbaV1bYV0gPT0gXCIgXCIpIHtcbiAgICAgICAgICBsZWdhbE1vdmVzLnB1c2goW2ksIGFdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBjaGVja01pc3NlZENvb3Jkc0Zvck1hdGNoID0gZnVuY3Rpb24gKFxuICAgIGNvb3JkcyxcbiAgICBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5XG4gICkge1xuICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgIGF2YWlsYWJsZU1vdmVzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgY29vcmRzWzBdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMF0gJiZcbiAgICAgICAgY29vcmRzWzFdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMV1cbiAgICAgICkge1xuICAgICAgICBtYXRjaCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdmFpbGFibGVNb3Zlcy5wdXNoKFtjb29yZHNbMF0sIGNvb3Jkc1sxXV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRjaCA9PSB0cnVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBnZXRSYW5kb21JbnQobWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCk7XG4gIH1cblxuICBjb25zdCByYW5kb21BdHRhY2sgPSBmdW5jdGlvbiAob3Bwb25lbnRHYW1lYm9hcmQpIHtcbiAgICBsZXQgcmFuZG9tSW5kZXggPSBnZXRSYW5kb21JbnQob3Bwb25lbnRHYW1lYm9hcmQucG90ZW50aWFsTW92ZXMubGVuZ3RoIC0gMSk7XG4gICAgbGV0IHJhbmRvbU1vdmUgPSBvcHBvbmVudEdhbWVib2FyZC5wb3RlbnRpYWxNb3Zlc1tyYW5kb21JbmRleF07XG4gICAgcmV0dXJuIHJhbmRvbU1vdmU7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIHJhbmRvbUF0dGFjayxcbiAgICBnZXRMZWdhbE1vdmVzLFxuICAgIHJhbmRvbUF0dGFjayxcbiAgICBjaGVja01pc3NlZENvb3Jkc0Zvck1hdGNoLFxuICB9O1xufTtcblxuZXhwb3J0IHsgUGxheWVyIH07XG4iLCJpbXBvcnQgeyBTaGlwIH0gZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IHsgR2FtZUJvYXJkIH0gZnJvbSBcIi4vZ2FtZUJvYXJkXCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJcIjtcblxuY29uc3QgR2FtZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHBsYXllck9uZSA9IFBsYXllcigpO1xuICBwbGF5ZXJPbmUubmFtZSA9IFwiamVmZlwiO1xuICBsZXQgcGxheWVyVHdvID0gUGxheWVyKCk7XG4gIGxldCBjdXJyZW50UGxheWVyID0gcGxheWVyT25lO1xuICBsZXQgcDFHYW1lYm9hcmQgPSBHYW1lQm9hcmQocGxheWVyT25lLCBwbGF5ZXJUd28pO1xuICBsZXQgcDJHYW1lYm9hcmQgPSBHYW1lQm9hcmQocGxheWVyT25lLCBwbGF5ZXJUd28pO1xuICBwMUdhbWVib2FyZC5nZXRQb3RlbnRpYWxNb3ZlcygpO1xuICBwMkdhbWVib2FyZC5nZXRQb3RlbnRpYWxNb3ZlcygpO1xuICBsZXQgd2luID0gZmFsc2U7XG5cbiAgY29uc3Qgc2V0VXBQbGF5ZXJPbmVTaGlwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwMUdhbWVib2FyZCA9IEdhbWVCb2FyZCgpO1xuICAgIGNvbnN0IHAxc2hpcDIgPSBTaGlwKDIpO1xuICAgIHAxc2hpcDIuY29vcmRzLnB1c2goWzAsIDBdKTtcbiAgICBwMXNoaXAyLmNvb3Jkcy5wdXNoKFswLCAxXSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMF1bMF0gPSBwMXNoaXAyO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzBdWzFdID0gcDFzaGlwMjtcbiAgICBjb25zdCBwMXNoaXAzYSA9IFNoaXAoMyk7XG4gICAgLy8gY29uc29sZS5sb2coYGFiYyR7cDFzaGlwM2EubGVuZ3RofWApO1xuXG4gICAgcDFzaGlwM2EuY29vcmRzLnB1c2goWzEsIDBdKTtcbiAgICBwMXNoaXAzYS5jb29yZHMucHVzaChbMSwgMV0pO1xuICAgIHAxc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAyXSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMV1bMF0gPSBwMXNoaXAzYTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsxXVsxXSA9IHAxc2hpcDNhO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzFdWzJdID0gcDFzaGlwM2E7XG4gICAgY29uc3QgcDFzaGlwM2IgPSBTaGlwKDMpO1xuICAgIHAxc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAwXSk7XG4gICAgcDFzaGlwM2IuY29vcmRzLnB1c2goWzIsIDFdKTtcbiAgICBwMXNoaXAzYi5jb29yZHMucHVzaChbMiwgMl0pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzJdWzBdID0gcDFzaGlwM2I7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMl1bMV0gPSBwMXNoaXAzYjtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsyXVsyXSA9IHAxc2hpcDNiO1xuICAgIGNvbnN0IHAxc2hpcDQgPSBTaGlwKDQpO1xuICAgIHAxc2hpcDQuY29vcmRzLnB1c2goWzMsIDBdKTtcbiAgICBwMXNoaXA0LmNvb3Jkcy5wdXNoKFszLCAxXSk7XG4gICAgcDFzaGlwNC5jb29yZHMucHVzaChbMywgMl0pO1xuICAgIHAxc2hpcDQuY29vcmRzLnB1c2goWzMsIDNdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFszXVswXSA9IHAxc2hpcDQ7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbM11bMV0gPSBwMXNoaXA0O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzNdWzJdID0gcDFzaGlwNDtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFszXVszXSA9IHAxc2hpcDQ7XG4gICAgY29uc3QgcDFzaGlwNSA9IFNoaXAoNSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgMF0pO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDFdKTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAyXSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgM10pO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDRdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVswXSA9IHAxc2hpcDU7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bMV0gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzJdID0gcDFzaGlwNTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVszXSA9IHAxc2hpcDU7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bNF0gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAxc2hpcDIpO1xuICAgIHAxR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAxc2hpcDNhKTtcbiAgICBwMUdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMXNoaXAzYik7XG4gICAgcDFHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDFzaGlwNCk7XG4gICAgcDFHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDFzaGlwNSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0VXBQbGF5ZXJUd29TaGlwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBwMnNoaXAyID0gU2hpcCgyKTtcbiAgICBwMnNoaXAyLmNvb3Jkcy5wdXNoKFswLCAwXSk7XG4gICAgcDJzaGlwMi5jb29yZHMucHVzaChbMCwgMV0pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzBdWzBdID0gcDJzaGlwMjtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFswXVsxXSA9IHAyc2hpcDI7XG4gICAgY29uc3QgcDJzaGlwM2EgPSBTaGlwKDMpO1xuICAgIHAyc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAwXSk7XG4gICAgcDJzaGlwM2EuY29vcmRzLnB1c2goWzEsIDFdKTtcbiAgICBwMnNoaXAzYS5jb29yZHMucHVzaChbMSwgMl0pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzFdWzBdID0gcDJzaGlwM2E7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMV1bMV0gPSBwMnNoaXAzYTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsxXVsyXSA9IHAyc2hpcDNhO1xuICAgIGNvbnN0IHAyc2hpcDNiID0gU2hpcCgzKTtcbiAgICBwMnNoaXAzYi5jb29yZHMucHVzaChbMiwgMF0pO1xuICAgIHAyc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAxXSk7XG4gICAgcDJzaGlwM2IuY29vcmRzLnB1c2goWzIsIDJdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsyXVswXSA9IHAyc2hpcDNiO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzJdWzFdID0gcDJzaGlwM2I7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMl1bMl0gPSBwMnNoaXAzYjtcbiAgICBjb25zdCBwMnNoaXA0ID0gU2hpcCg0KTtcbiAgICBwMnNoaXA0LmNvb3Jkcy5wdXNoKFszLCAwXSk7XG4gICAgcDJzaGlwNC5jb29yZHMucHVzaChbMywgMV0pO1xuICAgIHAyc2hpcDQuY29vcmRzLnB1c2goWzMsIDJdKTtcbiAgICBwMnNoaXA0LmNvb3Jkcy5wdXNoKFszLCAzXSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbM11bMF0gPSBwMnNoaXA0O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzNdWzFdID0gcDJzaGlwNDtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFszXVsyXSA9IHAyc2hpcDQ7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbM11bM10gPSBwMnNoaXA0O1xuICAgIGNvbnN0IHAyc2hpcDUgPSBTaGlwKDUpO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDBdKTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAxXSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgMl0pO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDNdKTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCA0XSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bMF0gPSBwMnNoaXA1O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzFdID0gcDJzaGlwNTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVsyXSA9IHAyc2hpcDU7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bM10gPSBwMnNoaXA1O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzRdID0gcDJzaGlwNTtcblxuICAgIHAyR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAyc2hpcDIpO1xuICAgIHAyR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAyc2hpcDNhKTtcbiAgICBwMkdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMnNoaXAzYik7XG4gICAgcDJHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDJzaGlwNCk7XG4gICAgcDJHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDJzaGlwNSk7XG4gIH07XG5cbiAgY29uc3Qgc2V0VXBHYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFVwUGxheWVyT25lU2hpcHMoKTtcbiAgICBzZXRVcFBsYXllclR3b1NoaXBzKCk7XG4gICAgcDFHYW1lYm9hcmQuZHJhd0JvYXJkKCk7XG4gICAgcDJHYW1lYm9hcmQuZHJhd0NvbXB1dGVyQm9hcmQoKTtcbiAgICBwMUdhbWVib2FyZC5zZXRVcENsaWNrVG9IaXQoKTtcbiAgICBwMkdhbWVib2FyZC5zZXRVcENsaWNrVG9IaXQoKTtcbiAgfTtcblxuICByZXR1cm4geyBzZXRVcEdhbWUsIHAxR2FtZWJvYXJkLCBwMkdhbWVib2FyZCB9O1xufTtcblxuZXhwb3J0IHsgR2FtZSB9O1xuIiwiaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCB7IEdhbWVCb2FyZCB9IGZyb20gXCIuL2dhbWVCb2FyZFwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xuXG4vLyBjb25zdCBnYjEgPSBHYW1lQm9hcmQoKTtcbi8vIGNvbnN0IGdiMiA9IEdhbWVCb2FyZCgpO1xuXG4vLyAvLyBjb25zdCBnYW1lID0gR2FtZSgpO1xuLy8gLy8gY29uc3QgcGxheWVyID0gUGxheWVyKCk7XG4vLyAvLyBjb25zdCBzaGlwID0gU2hpcCgpO1xuLy8gLy8gc2hpcC5jb29yZHMucHVzaChbMCwgMV0pO1xuLy8gLy8gZ2IuZ2V0UG90ZW50aWFsTW92ZXMoKTtcbi8vIC8vIGxldCBtb3ZlcyA9IGdiLnBvdGVudGlhbE1vdmVzO1xuLy8gLy8gY29uc29sZS5sb2coZ2IucG90ZW50aWFsTW92ZXMubGVuZ3RoKSA7XG4vLyAvLyBnYi5yZWNlaXZlQXR0YWNrKHNoaXAsIFswLCAzXSk7XG4vLyAvLyBjb25zb2xlLmxvZyhnYi5wb3RlbnRpYWxNb3Zlcy5sZW5ndGgpO1xuLy8gZ2IxLmRyYXdCb2FyZCgpO1xuLy8gZ2IyLmRyYXdCb2FyZCgpO1xuY29uc3QgZ2FtZSA9IEdhbWUoKTtcbmdhbWUuc2V0VXBHYW1lKCk7XG5cbi8vIGdhbWUucDFHYW1lYm9hcmQuZHJhd0JvYXJkKCk7XG4vLyBnYW1lLnAyR2FtZWJvYXJkLmRyYXdDb21wdXRlckJvYXJkKCk7XG4vLyBnYW1lLnAxR2FtZWJvYXJkLnNldFVwQ2xpY2tUb0hpdCgpO1xuLy8gZ2FtZS5wMkdhbWVib2FyZC5zZXRVcENsaWNrVG9IaXQoKTtcbiJdLCJuYW1lcyI6WyJTaGlwIiwibGVuZ3RoIiwibnVtYmVyT2ZIaXRzIiwic3VuayIsInNoaXBMZW5ndGgiLCJpc1N1bmsiLCJoaXQiLCJjb29yZHMiLCJHYW1lQm9hcmQiLCJwbGF5ZXJPbmUiLCJwbGF5ZXJUd28iLCJzdW5rU2hpcHMiLCJtaXNzZWRDb29yZHMiLCJwb3RlbnRpYWxNb3ZlcyIsImN1cnJlbnRQbGF5ZXIiLCJib2FyZCIsInN3YXBQbGF5ZXIiLCJjb25zb2xlIiwibG9nIiwibWF0Y2hNb3ZlIiwiYXJyYXlUb0ZpbmRNYXRjaCIsIm1hdGNoIiwiZm9yRWFjaCIsIm1vdmUiLCJyZW1vdmVBbGxJbnN0YW5jZXMiLCJhcnIiLCJpdGVtIiwiaSIsInNwbGljZSIsInJlY2VpdmVBdHRhY2siLCJzcXVhcmUiLCJzaGlwIiwicHVzaCIsImNsYXNzTGlzdCIsImFkZCIsImRpc3BsYXlNaXNzIiwic3dhcHBlZENvb3JkcyIsImRpc3BsYXlIaXQiLCJzaGlwU3VuayIsImFsbFN1bmsiLCJhbGVydCIsImNsYXNzVG9Db29yZHMiLCJpbmRpdmlkdWFsU3F1YXJlIiwiY2xhc3NlcyIsIngiLCJ5IiwicGFyc2VJbnQiLCJob3Jpem9udGFsIiwic3RhcnRSb3dDb29yZHMiLCJzdGFydENvbHVtbkNvb3JkcyIsImN1cnJlbnRDb29yZCIsInZlcnRpY2FsIiwiY3VycmVudFNoaXBzIiwiZ2V0UG90ZW50aWFsTW92ZXMiLCJhIiwiZHJhd0JvYXJkIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYm9hcmRDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRVcENsaWNrVG9IaXQiLCJzcXVhcmVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYXdDb21wdXRlckJvYXJkIiwiUGxheWVyIiwibGVnYWxNb3ZlcyIsInJhbmRvbUF0dGFjayIsIm9wcG9uZW50R2FtZWJvYXJkIiwicmFuZG9tSW5kZXgiLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJuYW1lIiwiZ2V0TGVnYWxNb3ZlcyIsImNoZWNrTWlzc2VkQ29vcmRzRm9yTWF0Y2giLCJvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5IiwiYXZhaWxhYmxlTW92ZXMiLCJwMUdhbWVib2FyZCIsInAyR2FtZWJvYXJkIiwic2V0VXBHYW1lIiwicDFzaGlwMiIsInAxc2hpcDNhIiwicDFzaGlwM2IiLCJwMXNoaXA0IiwicDFzaGlwNSIsInNldFVwUGxheWVyT25lU2hpcHMiLCJwMnNoaXAyIiwicDJzaGlwM2EiLCJwMnNoaXAzYiIsInAyc2hpcDQiLCJwMnNoaXA1Iiwic2V0VXBQbGF5ZXJUd29TaGlwcyIsIkdhbWUiXSwic291cmNlUm9vdCI6IiJ9