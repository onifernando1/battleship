(()=>{"use strict";const o=function(){let o=[];const t=[];let e=[];return{board:[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]],horizontal:function(o,t,e){for(let n=0;n<o.shipLength;n++){let l=[t,n+e];o.coords.push(l)}},vertical:function(o,t,e){for(let n=0;n<o.shipLength;n++){let l=[n+t,e];o.coords.push(l)}},receiveAttack:function(o,n){!function(o,t){let e=!1;for(let n=0;n<o.length;n++)o[n].includes(t[0])&&o[n].includes(t[1])&&(e=!0);return e}(o.coords,n)?t.push(n):o.hit(),function(o,t){o.forEach((o=>o[0]==t[0]&&o[1]==t[1]))}(e,n)&&function(o,t){for(let e=o.length;e--;)o[e][0]==t[0]&&o[e][1]==t[1]&&o.splice(e,1)}(e,n)},missedCoords:t,currentShips:o,allSunk:function(){let t=[];return o.forEach((o=>{0==o.sunk?t.push(!1):t.push(!0)})),!t.includes(!1)},getPotentialMoves:function(){for(let o=0;o<10;o++)for(let t=0;t<10;t++)e.push([t,o])},potentialMoves:e}}(),t=function(){let o=[],t=[];const e=function(o){let t=(e=o.potentialMoves.length-1,Math.floor(Math.random()*e));var e;return console.log(t),o.potentialMoves[t]};return{name:"",randomAttack:e,getLegalMoves:function(t){o=[];for(let e=0;e<t.board.length;e++)for(let n=0;n<10;n++)" "==t.board[e][n]&&o.push([e,n])},randomAttack:e,checkMissedCoordsForMatch:function(o,e){let n=!1;t=[];for(let l=0;l<e.length;l++)console.log(e[l][0]),console.log(e[l][1]),console.log(o[0]==e[l][0]),console.log(o[1]==e[l][1]),o[0]==e[l][0]&&o[1]==e[l][1]?n=!0:t.push([o[0],o[1]]);return console.log(`available : ${t}`),1==n?(console.log("IT IS A MATCH"),!0):(console.log("IT IS NOT A MATCH"),!1)}}}();o.getPotentialMoves(),o.potentialMoves,o.getPotentialMoves(),console.log(t.randomAttack(o))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLEdBQUlBLElBQ2UsS0FBakNNLEVBQWtCcEMsTUFBTUssR0FBR3lCLElBQzdCRyxFQUFXeEIsS0FBSyxDQUFDSixFQUFHeUIsR0FJNUIsRUFtREVLLGVBQ0FXLDBCQWxEZ0MsU0FDaEN0QyxFQUNBdUMsR0FFQSxJQUFJbEMsR0FBUSxFQUNacUIsRUFBaUIsR0FFakIsSUFBSyxJQUFJN0IsRUFBSSxFQUFHQSxFQUFJMEMsRUFBbUNqQyxPQUFRVCxJQUM3RHFDLFFBQVFDLElBQUlJLEVBQW1DMUMsR0FBRyxJQUNsRHFDLFFBQVFDLElBQUlJLEVBQW1DMUMsR0FBRyxJQUNsRHFDLFFBQVFDLElBQUluQyxFQUFPLElBQU11QyxFQUFtQzFDLEdBQUcsSUFDL0RxQyxRQUFRQyxJQUFJbkMsRUFBTyxJQUFNdUMsRUFBbUMxQyxHQUFHLElBRzdERyxFQUFPLElBQU11QyxFQUFtQzFDLEdBQUcsSUFDbkRHLEVBQU8sSUFBTXVDLEVBQW1DMUMsR0FBRyxHQUVuRFEsR0FBUSxFQUVScUIsRUFBZXpCLEtBQUssQ0FBQ0QsRUFBTyxHQUFJQSxFQUFPLEtBTTNDLE9BRkFrQyxRQUFRQyxJQUFJLGVBQWVULEtBRWQsR0FBVHJCLEdBQ0Y2QixRQUFRQyxJQUFJLGtCQUNMLElBRVBELFFBQVFDLElBQUksc0JBQ0wsRUFFWCxFQW9CRixDRGxFZUssR0FDZnBELEVBQUdpQyxvQkFDU2pDLEVBQUdHLGVBNkJmSCxFQUFHaUMsb0JBQ0hhLFFBQVFDLElBQUlYLEVBQU9HLGFBQWF2QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lQm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2NoZWNrIGZvciBsZWdhbCBtb3Zlc1xuXG5jb25zdCBHYW1lQm9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBzaGlwUGxhY2VtZW50TW9kZSA9IFwiaG9yaXpvbnRhbFwiO1xuICBsZXQgY3VycmVudFNoaXBzID0gW107XG4gIGxldCBzdW5rU2hpcHMgPSBbXTtcbiAgY29uc3QgbWlzc2VkQ29vcmRzID0gW107XG4gIGxldCBwb3RlbnRpYWxNb3ZlcyA9IFtdO1xuXG4gIGxldCBib2FyZCA9IFtcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gIF07XG5cbiAgY29uc3QgZ2V0UG90ZW50aWFsTW92ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IDEwOyBhKyspIHtcbiAgICAgICAgcG90ZW50aWFsTW92ZXMucHVzaChbYSwgaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBob3Jpem9udGFsID0gZnVuY3Rpb24gKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjdXJyZW50Q29vcmQgPSBbc3RhcnRSb3dDb29yZHMsIGkgKyBzdGFydENvbHVtbkNvb3Jkc107XG4gICAgICBzaGlwLmNvb3Jkcy5wdXNoKGN1cnJlbnRDb29yZCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZlcnRpY2FsID0gZnVuY3Rpb24gKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjdXJyZW50Q29vcmQgPSBbaSArIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkc107XG4gICAgICBzaGlwLmNvb3Jkcy5wdXNoKGN1cnJlbnRDb29yZCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBsYWNlU2hpcCA9IGZ1bmN0aW9uIChzaGlwKSB7XG4gICAgc2hpcC5jb29yZHMuZm9yRWFjaCgoY29vcmQpID0+IHtcbiAgICAgIGxldCBvdXRlciA9IGNvb3JkWzBdO1xuICAgICAgbGV0IGlubmVyID0gY29vcmRbMV07XG4gICAgICBib2FyZFtvdXRlcl1baW5uZXJdID0gc2hpcDtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzZXRTaGlwUG9zaXRpb24gPSBmdW5jdGlvbiAoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKSB7XG4gICAgaWYgKHNoaXBQbGFjZW1lbnRNb2RlID09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICBob3Jpem9udGFsKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcyk7XG4gICAgfSBlbHNlIGlmIChzaGlwUGxhY2VtZW50TW9kZSA9PSBcInZlcnRpY2FsXCIpIHtcbiAgICAgIHZlcnRpY2FsKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoZWNrTmVzdGVkQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXksIGNvb3Jkcykge1xuICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhcnJheVtpXS5pbmNsdWRlcyhjb29yZHNbMF0pICYmIGFycmF5W2ldLmluY2x1ZGVzKGNvb3Jkc1sxXSkpIHtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG5cbiAgY29uc3QgbWF0Y2hNb3ZlID0gZnVuY3Rpb24gKGFycmF5VG9GaW5kTWF0Y2gsIGNvb3Jkcykge1xuICAgIGFycmF5VG9GaW5kTWF0Y2guZm9yRWFjaCgobW92ZSkgPT4ge1xuICAgICAgaWYgKG1vdmVbMF0gPT0gY29vcmRzWzBdICYmIG1vdmVbMV0gPT0gY29vcmRzWzFdKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbEluc3RhbmNlcyhhcnIsIGl0ZW0pIHtcbiAgICBmb3IgKGxldCBpID0gYXJyLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgIGlmIChhcnJbaV1bMF0gPT0gaXRlbVswXSAmJiBhcnJbaV1bMV0gPT0gaXRlbVsxXSkgYXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZWNlaXZlQXR0YWNrID0gZnVuY3Rpb24gKHNoaXAsIGNvb3Jkcykge1xuICAgIGlmIChjaGVja05lc3RlZEFycmF5KHNoaXAuY29vcmRzLCBjb29yZHMpKSB7XG4gICAgICBzaGlwLmhpdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaXNzZWRDb29yZHMucHVzaChjb29yZHMpO1xuICAgIH1cblxuICAgIGlmIChtYXRjaE1vdmUocG90ZW50aWFsTW92ZXMsIGNvb3JkcykpIHtcbiAgICAgIHJlbW92ZUFsbEluc3RhbmNlcyhwb3RlbnRpYWxNb3ZlcywgY29vcmRzKTsgLy8gbmVlZCB0byBjb2RlIHRoaXNcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYWxsU3VuayA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYWxsU2hpcHNTdW5rID0gW107XG4gICAgY3VycmVudFNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgIGlmIChzaGlwLnN1bmsgPT0gZmFsc2UpIHtcbiAgICAgICAgYWxsU2hpcHNTdW5rLnB1c2goZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsU2hpcHNTdW5rLnB1c2godHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoYWxsU2hpcHNTdW5rLmluY2x1ZGVzKGZhbHNlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBib2FyZCxcbiAgICBob3Jpem9udGFsLFxuICAgIHZlcnRpY2FsLFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgbWlzc2VkQ29vcmRzLFxuICAgIGN1cnJlbnRTaGlwcyxcbiAgICBhbGxTdW5rLFxuICAgIGdldFBvdGVudGlhbE1vdmVzLFxuICAgIHBvdGVudGlhbE1vdmVzLFxuICB9O1xufTtcblxuZXhwb3J0IHsgR2FtZUJvYXJkIH07XG4iLCJpbXBvcnQgeyBTaGlwIH0gZnJvbSBcIi4vc2hpcFwiO1xuaW1wb3J0IHsgR2FtZUJvYXJkIH0gZnJvbSBcIi4vZ2FtZUJvYXJkXCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJcIjtcblxuY29uc3QgZ2IgPSBHYW1lQm9hcmQoKTtcbmNvbnN0IHBsYXllciA9IFBsYXllcigpO1xuZ2IuZ2V0UG90ZW50aWFsTW92ZXMoKTtcbmxldCBtb3ZlcyA9IGdiLnBvdGVudGlhbE1vdmVzO1xuXG4vLyBjb25zdCBtYXRjaE1vdmUgPSBmdW5jdGlvbiAoYXJyYXlUb0ZpbmRNYXRjaCwgY29vcmRzKSB7XG4vLyAgIGFycmF5VG9GaW5kTWF0Y2guZm9yRWFjaCgobW92ZSkgPT4ge1xuLy8gICAgIGlmIChtb3ZlWzBdID09IGNvb3Jkc1swXSAmJiBtb3ZlWzFdID09IGNvb3Jkc1sxXSkge1xuLy8gICAgICAgY29uc29sZS5sb2coXCJtYXRjaFwiKTtcbi8vICAgICB9XG4vLyAgIH0pO1xuLy8gfTtcblxuLy8gY29uc29sZS5sb2cobW92ZXNbMV1bMF0gPT0gMSk7XG4vLyBjb25zb2xlLmxvZyhcIkhJXCIpO1xuXG4vLyBwbGF5ZXIucmFuZG9tQXR0YWNrKGdiKTtcblxuLy8gbGV0IGV4YW1wbGUgPSBbXTtcbi8vIGV4YW1wbGUucHVzaChbMCwgMV0pO1xuLy8gZXhhbXBsZS5wdXNoKFswLCAyXSk7XG4vLyBjb25zb2xlLmxvZyhleGFtcGxlKTtcblxuLy8gZnVuY3Rpb24gcmVtb3ZlQWxsSW5zdGFuY2VzKGFyciwgaXRlbSkge1xuLy8gICBmb3IgKGxldCBpID0gYXJyLmxlbmd0aDsgaS0tOyApIHtcbi8vICAgICBpZiAoYXJyW2ldWzBdID09IGl0ZW1bMF0gJiYgYXJyW2ldWzFdID09IGl0ZW1bMV0pIGFyci5zcGxpY2UoaSwgMSk7XG4vLyAgIH1cbi8vIH1cblxuLy8gcmVtb3ZlQWxsSW5zdGFuY2VzKGV4YW1wbGUsIFswLCAxXSk7XG5cbi8vIGNvbnNvbGUubG9nKGV4YW1wbGUpO1xuZ2IuZ2V0UG90ZW50aWFsTW92ZXMoKTtcbmNvbnNvbGUubG9nKHBsYXllci5yYW5kb21BdHRhY2soZ2IpKTtcbiIsImltcG9ydCB7IEdhbWVCb2FyZCB9IGZyb20gXCIuL2dhbWVCb2FyZFwiO1xuXG5jb25zdCBQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IG5hbWUgPSBcIlwiO1xuICBsZXQgbGVnYWxNb3ZlcyA9IFtdO1xuICBsZXQgcHJldmlvdXNNb3ZlcyA9IFtdO1xuICBsZXQgYXZhaWxhYmxlTW92ZXMgPSBbXTtcblxuICBjb25zdCBnZXRMZWdhbE1vdmVzID0gZnVuY3Rpb24gKG9wcG9uZW50R2FtZWJvYXJkKSB7XG4gICAgbGVnYWxNb3ZlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3Bwb25lbnRHYW1lYm9hcmQuYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgMTA7IGErKykge1xuICAgICAgICBpZiAob3Bwb25lbnRHYW1lYm9hcmQuYm9hcmRbaV1bYV0gPT0gXCIgXCIpIHtcbiAgICAgICAgICBsZWdhbE1vdmVzLnB1c2goW2ksIGFdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBjaGVja01pc3NlZENvb3Jkc0Zvck1hdGNoID0gZnVuY3Rpb24gKFxuICAgIGNvb3JkcyxcbiAgICBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5XG4gICkge1xuICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgIGF2YWlsYWJsZU1vdmVzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnNvbGUubG9nKG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMF0pO1xuICAgICAgY29uc29sZS5sb2cob3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVsxXSk7XG4gICAgICBjb25zb2xlLmxvZyhjb29yZHNbMF0gPT0gb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVswXSk7XG4gICAgICBjb25zb2xlLmxvZyhjb29yZHNbMV0gPT0gb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVsxXSk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgY29vcmRzWzBdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMF0gJiZcbiAgICAgICAgY29vcmRzWzFdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMV1cbiAgICAgICkge1xuICAgICAgICBtYXRjaCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdmFpbGFibGVNb3Zlcy5wdXNoKFtjb29yZHNbMF0sIGNvb3Jkc1sxXV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBhdmFpbGFibGUgOiAke2F2YWlsYWJsZU1vdmVzfWApO1xuXG4gICAgaWYgKG1hdGNoID09IHRydWUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiSVQgSVMgQSBNQVRDSFwiKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIklUIElTIE5PVCBBIE1BVENIXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBnZXRSYW5kb21JbnQobWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCk7XG4gIH1cblxuICBjb25zdCByYW5kb21BdHRhY2sgPSBmdW5jdGlvbiAob3Bwb25lbnRHYW1lYm9hcmQpIHtcbiAgICBsZXQgcmFuZG9tSW5kZXggPSBnZXRSYW5kb21JbnQob3Bwb25lbnRHYW1lYm9hcmQucG90ZW50aWFsTW92ZXMubGVuZ3RoIC0gMSk7XG4gICAgY29uc29sZS5sb2cocmFuZG9tSW5kZXgpO1xuICAgIGxldCByYW5kb21Nb3ZlID0gb3Bwb25lbnRHYW1lYm9hcmQucG90ZW50aWFsTW92ZXNbcmFuZG9tSW5kZXhdO1xuICAgIHJldHVybiByYW5kb21Nb3ZlO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICByYW5kb21BdHRhY2ssXG4gICAgZ2V0TGVnYWxNb3ZlcyxcbiAgICByYW5kb21BdHRhY2ssXG4gICAgY2hlY2tNaXNzZWRDb29yZHNGb3JNYXRjaCxcbiAgfTtcbn07XG5cbmV4cG9ydCB7IFBsYXllciB9O1xuIl0sIm5hbWVzIjpbImdiIiwiY3VycmVudFNoaXBzIiwibWlzc2VkQ29vcmRzIiwicG90ZW50aWFsTW92ZXMiLCJib2FyZCIsImhvcml6b250YWwiLCJzaGlwIiwic3RhcnRSb3dDb29yZHMiLCJzdGFydENvbHVtbkNvb3JkcyIsImkiLCJzaGlwTGVuZ3RoIiwiY3VycmVudENvb3JkIiwiY29vcmRzIiwicHVzaCIsInZlcnRpY2FsIiwicmVjZWl2ZUF0dGFjayIsImFycmF5IiwibWF0Y2giLCJsZW5ndGgiLCJpbmNsdWRlcyIsImNoZWNrTmVzdGVkQXJyYXkiLCJoaXQiLCJhcnJheVRvRmluZE1hdGNoIiwiZm9yRWFjaCIsIm1vdmUiLCJtYXRjaE1vdmUiLCJhcnIiLCJpdGVtIiwic3BsaWNlIiwicmVtb3ZlQWxsSW5zdGFuY2VzIiwiYWxsU3VuayIsImFsbFNoaXBzU3VuayIsInN1bmsiLCJnZXRQb3RlbnRpYWxNb3ZlcyIsImEiLCJHYW1lQm9hcmQiLCJwbGF5ZXIiLCJsZWdhbE1vdmVzIiwiYXZhaWxhYmxlTW92ZXMiLCJyYW5kb21BdHRhY2siLCJvcHBvbmVudEdhbWVib2FyZCIsInJhbmRvbUluZGV4IiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJnZXRMZWdhbE1vdmVzIiwiY2hlY2tNaXNzZWRDb29yZHNGb3JNYXRjaCIsIm9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXkiLCJQbGF5ZXIiXSwic291cmNlUm9vdCI6IiJ9