(()=>{"use strict";const o=function(o){let s=0,t=!1;return{shipLength:o,numberOfHits:s,isSunk:function(){return s>=o&&(t=!0,!0)},hit:function(){s+=1},coords:[],length:o,sunk:t}},s=function(o,s){let t=[];const e=[];let r=[],n=o,c=[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]];const d=function(){n=n==o?s:o,console.log("swap"),console.log(n)},a=function(o,s){let t=!1;return o.forEach((o=>{o[0]==s[0]&&o[1]==s[1]&&(t=!0)})),1==t};function u(o,s){for(let t=o.length;t--;)o[t][0]==s[0]&&o[t][1]==s[1]&&o.splice(t,1)}const l=function(o,s){let n=c[o[1]][o[0]];if(console.log(`coords = ${o}`),0==a(r,o))console.log("Retry bro");else{if(" "==n)e.push(o),console.log("miss"),function(o){o.classList.add("miss")}(s),d();else{let e=[];e.push(o[1]),e.push(o[0]),a(n.coords,e)&&(n.hit(),function(o){o.classList.add("hit")}(s),n.isSunk(),d(),n.isSunk()&&(function(o){for(let s=0;s<o.coords.length;s++)o.coords[s][0],o.coords[s][1]}(n),t.push(n)),i(),console.log("hit"),e=[])}a(r,o)&&u(r,o)}},i=function(){return 5==t.length&&(alert("DONE!"),!0)},h=function(o){let s=o.classList,t=s[1],e="oops";return parseInt(s[2]),e=parseInt(s[2])>=0?s[2]:s[1],[t,e]};return{board:c,horizontal:function(o,s,t){for(let e=0;e<o.shipLength;e++){let r=[s,e+t];o.coords.push(r)}},vertical:function(o,s,t){for(let e=0;e<o.shipLength;e++){let r=[e+s,t];o.coords.push(r)}},receiveAttack:l,missedCoords:e,currentShips:[],allSunk:i,getPotentialMoves:function(){for(let o=0;o<10;o++)for(let s=0;s<10;s++)r.push([s,o])},potentialMoves:r,matchMove:a,removeAllInstances:u,drawBoard:function(){const o=document.getElementsByClassName("container")[0];let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s);for(let o=0;o<c.length;o++)for(let t=0;t<c.length;t++){let e=document.createElement("div");e.classList.add("individual-square"),e.classList.add(t),e.classList.add(o),s.appendChild(e)," "!=c[o][t]&&e.classList.add("ship")}},setUpClickToHit:function(){let o=document.getElementsByClassName("computer-square");for(let s=0;s<o.length;s++)o[s].addEventListener("click",(()=>{l(h(o[s]),o[s])}))},drawComputerBoard:function(){const o=document.getElementsByClassName("container")[0];let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s);for(let o=0;o<c.length;o++)for(let t=0;t<c.length;t++){let e=document.createElement("div");e.classList.add("computer-square"),e.classList.add(t),e.classList.add(o),s.appendChild(e)}},sunkShips:t}},t=function(){let o=[];const s=function(o){let s=(t=o.potentialMoves.length-1,Math.floor(Math.random()*t));var t;return o.potentialMoves[s]};return{name:"",randomAttack:s,getLegalMoves:function(s){o=[];for(let t=0;t<s.board.length;t++)for(let e=0;e<10;e++)" "==s.board[t][e]&&o.push([t,e])},randomAttack:s,checkMissedCoordsForMatch:function(o,s){let t=!1;availableMoves=[];for(let e=0;e<s.length;e++)o[0]==s[e][0]&&o[1]==s[e][1]?t=!0:availableMoves.push([o[0],o[1]]);return 1==t}}};(function(){let e=t();e.name="playerOne";let r=t();r.name="playerTwo";let n=s(e,r),c=s(e,r);return n.getPotentialMoves(),c.getPotentialMoves(),{setUpGame:function(){!function(){const s=o(2);s.coords.push([0,0]),s.coords.push([0,1]),n.board[0][0]=s,n.board[0][1]=s;const t=o(3);t.coords.push([1,0]),t.coords.push([1,1]),t.coords.push([1,2]),n.board[1][0]=t,n.board[1][1]=t,n.board[1][2]=t;const e=o(3);e.coords.push([2,0]),e.coords.push([2,1]),e.coords.push([2,2]),n.board[2][0]=e,n.board[2][1]=e,n.board[2][2]=e;const r=o(4);r.coords.push([3,0]),r.coords.push([3,1]),r.coords.push([3,2]),r.coords.push([3,3]),n.board[3][0]=r,n.board[3][1]=r,n.board[3][2]=r,n.board[3][3]=r;const c=o(5);c.coords.push([4,0]),c.coords.push([4,1]),c.coords.push([4,2]),c.coords.push([4,3]),c.coords.push([4,4]),n.board[4][0]=c,n.board[4][1]=c,n.board[4][2]=c,n.board[4][3]=c,n.board[4][4]=c,n.currentShips.push(s),n.currentShips.push(t),n.currentShips.push(e),n.currentShips.push(r),n.currentShips.push(c)}(),function(){const s=o(2);s.coords.push([0,0]),s.coords.push([0,1]),c.board[0][0]=s,c.board[0][1]=s;const t=o(3);t.coords.push([1,0]),t.coords.push([1,1]),t.coords.push([1,2]),c.board[1][0]=t,c.board[1][1]=t,c.board[1][2]=t;const e=o(3);e.coords.push([2,0]),e.coords.push([2,1]),e.coords.push([2,2]),c.board[2][0]=e,c.board[2][1]=e,c.board[2][2]=e;const r=o(4);r.coords.push([3,0]),r.coords.push([3,1]),r.coords.push([3,2]),r.coords.push([3,3]),c.board[3][0]=r,c.board[3][1]=r,c.board[3][2]=r,c.board[3][3]=r;const n=o(5);n.coords.push([4,0]),n.coords.push([4,1]),n.coords.push([4,2]),n.coords.push([4,3]),n.coords.push([4,4]),c.board[4][0]=n,c.board[4][1]=n,c.board[4][2]=n,c.board[4][3]=n,c.board[4][4]=n,c.currentShips.push(s),c.currentShips.push(t),c.currentShips.push(e),c.currentShips.push(r),c.currentShips.push(n)}(),n.drawBoard(),c.drawComputerBoard(),c.setUpClickToHit()},p1Gameboard:n,p2Gameboard:c}})().setUpGame()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNoaXAgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gIGNvbnN0IHNoaXBMZW5ndGggPSBsZW5ndGg7XG4gIGxldCBudW1iZXJPZkhpdHMgPSAwO1xuICBsZXQgc3VuayA9IGZhbHNlO1xuICBsZXQgY29vcmRzID0gW107XG5cbiAgY29uc3QgaGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIG51bWJlck9mSGl0cyArPSAxO1xuICB9O1xuXG4gIGNvbnN0IGlzU3VuayA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobnVtYmVyT2ZIaXRzID49IGxlbmd0aCkge1xuICAgICAgc3VuayA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyBzaGlwTGVuZ3RoLCBudW1iZXJPZkhpdHMsIGlzU3VuaywgaGl0LCBjb29yZHMsIGxlbmd0aCwgc3VuayB9O1xufTtcblxuZXhwb3J0IHsgU2hpcCB9O1xuIiwiY29uc3QgR2FtZUJvYXJkID0gZnVuY3Rpb24gKHBsYXllck9uZSwgcGxheWVyVHdvKSB7XG4gIGxldCBzaGlwUGxhY2VtZW50TW9kZSA9IFwiaG9yaXpvbnRhbFwiO1xuICBsZXQgY3VycmVudFNoaXBzID0gW107XG4gIGxldCBzdW5rU2hpcHMgPSBbXTtcbiAgY29uc3QgbWlzc2VkQ29vcmRzID0gW107XG4gIGxldCBwb3RlbnRpYWxNb3ZlcyA9IFtdO1xuICBsZXQgY3VycmVudFBsYXllciA9IHBsYXllck9uZTtcblxuICBsZXQgYm9hcmQgPSBbXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICBdO1xuXG4gIGNvbnN0IGdldFBvdGVudGlhbE1vdmVzID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCAxMDsgYSsrKSB7XG4gICAgICAgIHBvdGVudGlhbE1vdmVzLnB1c2goW2EsIGldKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3dhcFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY3VycmVudFBsYXllciA9PSBwbGF5ZXJPbmUpIHtcbiAgICAgIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJUd287XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJPbmU7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwic3dhcFwiKTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50UGxheWVyKTtcbiAgfTtcblxuICBjb25zdCBzZXRVcENsaWNrVG9IaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNxdWFyZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29tcHV0ZXItc3F1YXJlXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3F1YXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgc3F1YXJlc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICByZWNlaXZlQXR0YWNrKGNsYXNzVG9Db29yZHMoc3F1YXJlc1tpXSksIHNxdWFyZXNbaV0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhvcml6b250YWwgPSBmdW5jdGlvbiAoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLnNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGN1cnJlbnRDb29yZCA9IFtzdGFydFJvd0Nvb3JkcywgaSArIHN0YXJ0Q29sdW1uQ29vcmRzXTtcbiAgICAgIHNoaXAuY29vcmRzLnB1c2goY3VycmVudENvb3JkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdmVydGljYWwgPSBmdW5jdGlvbiAoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLnNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGN1cnJlbnRDb29yZCA9IFtpICsgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzXTtcbiAgICAgIHNoaXAuY29vcmRzLnB1c2goY3VycmVudENvb3JkKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcGxhY2VTaGlwID0gZnVuY3Rpb24gKHNoaXApIHtcbiAgICBzaGlwLmNvb3Jkcy5mb3JFYWNoKChjb29yZCkgPT4ge1xuICAgICAgbGV0IG91dGVyID0gY29vcmRbMF07XG4gICAgICBsZXQgaW5uZXIgPSBjb29yZFsxXTtcbiAgICAgIGJvYXJkW291dGVyXVtpbm5lcl0gPSBzaGlwO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHNldFNoaXBQb3NpdGlvbiA9IGZ1bmN0aW9uIChzaGlwLCBzdGFydFJvd0Nvb3Jkcywgc3RhcnRDb2x1bW5Db29yZHMpIHtcbiAgICBpZiAoc2hpcFBsYWNlbWVudE1vZGUgPT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgIGhvcml6b250YWwoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKTtcbiAgICB9IGVsc2UgaWYgKHNoaXBQbGFjZW1lbnRNb2RlID09IFwidmVydGljYWxcIikge1xuICAgICAgdmVydGljYWwoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbWF0Y2hNb3ZlID0gZnVuY3Rpb24gKGFycmF5VG9GaW5kTWF0Y2gsIGNvb3Jkcykge1xuICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgIGFycmF5VG9GaW5kTWF0Y2guZm9yRWFjaCgobW92ZSkgPT4ge1xuICAgICAgaWYgKG1vdmVbMF0gPT0gY29vcmRzWzBdICYmIG1vdmVbMV0gPT0gY29vcmRzWzFdKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidHJ1ZVwiKTtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG1hdGNoID09IHRydWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbEluc3RhbmNlcyhhcnIsIGl0ZW0pIHtcbiAgICBmb3IgKGxldCBpID0gYXJyLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgIGlmIChhcnJbaV1bMF0gPT0gaXRlbVswXSAmJiBhcnJbaV1bMV0gPT0gaXRlbVsxXSkgYXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBkaXNwbGF5SGl0ID0gZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlNaXNzID0gZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKFwibWlzc1wiKTtcbiAgfTtcblxuICBjb25zdCBzaGlwU3VuayA9IGZ1bmN0aW9uIChzaGlwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHggPSBzaGlwLmNvb3Jkc1tpXVswXTtcbiAgICAgIGxldCB5ID0gc2hpcC5jb29yZHNbaV1bMV07XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSBmdW5jdGlvbiAoY29vcmRzLCBzcXVhcmUpIHtcbiAgICBsZXQgc2hpcCA9IGJvYXJkW2Nvb3Jkc1sxXV1bY29vcmRzWzBdXTsgLy8geCBhbmQgeSBtdXN0IGJlIHN3YXBwZWQgZm9yIGdhbWUgYm9hcmRcblxuICAgIC8vIGlmIG5vdCBhIGxlZ2FsIG1vdmUsIHJldHJ5XG4gICAgY29uc29sZS5sb2coYGNvb3JkcyA9ICR7Y29vcmRzfWApO1xuICAgIGlmIChtYXRjaE1vdmUocG90ZW50aWFsTW92ZXMsIGNvb3JkcykgPT0gZmFsc2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmV0cnkgYnJvXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2hpcCA9PSBcIiBcIikge1xuICAgICAgICBtaXNzZWRDb29yZHMucHVzaChjb29yZHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1pc3NcIik7XG4gICAgICAgIGRpc3BsYXlNaXNzKHNxdWFyZSk7XG4gICAgICAgIHN3YXBQbGF5ZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBzd2FwcGVkQ29vcmRzID0gW107XG4gICAgICAgIHN3YXBwZWRDb29yZHMucHVzaChjb29yZHNbMV0pO1xuICAgICAgICBzd2FwcGVkQ29vcmRzLnB1c2goY29vcmRzWzBdKTtcbiAgICAgICAgaWYgKG1hdGNoTW92ZShzaGlwLmNvb3Jkcywgc3dhcHBlZENvb3JkcykpIHtcbiAgICAgICAgICBzaGlwLmhpdCgpO1xuICAgICAgICAgIGRpc3BsYXlIaXQoc3F1YXJlKTtcbiAgICAgICAgICBzaGlwLmlzU3VuaygpO1xuICAgICAgICAgIHN3YXBQbGF5ZXIoKTsgLy8gc3dhcFxuICAgICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSB7XG4gICAgICAgICAgICBzaGlwU3VuayhzaGlwKTtcbiAgICAgICAgICAgIHN1bmtTaGlwcy5wdXNoKHNoaXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbGxTdW5rKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJoaXRcIik7XG4gICAgICAgICAgc3dhcHBlZENvb3JkcyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2hNb3ZlKHBvdGVudGlhbE1vdmVzLCBjb29yZHMpKSB7XG4gICAgICAgIHJlbW92ZUFsbEluc3RhbmNlcyhwb3RlbnRpYWxNb3ZlcywgY29vcmRzKTsgLy8gbmVlZCB0byBjb2RlIHRoaXNcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYWxsU3VuayA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc3Vua1NoaXBzLmxlbmd0aCA9PSA1KSB7XG4gICAgICBhbGVydChcIkRPTkUhXCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZHJhd0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb250YWluZXJcIilbMF07XG4gICAgbGV0IGJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYm9hcmQtY29udGFpbmVyXCIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZENvbnRhaW5lcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBib2FyZC5sZW5ndGg7IGErKykge1xuICAgICAgICBsZXQgaW5kaXZpZHVhbFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChcImluZGl2aWR1YWwtc3F1YXJlXCIpO1xuICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoYSk7IC8vIHhcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKGkpOyAvLyB5XG4gICAgICAgIGJvYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZGl2aWR1YWxTcXVhcmUpO1xuICAgICAgICBpZiAoYm9hcmRbaV1bYV0gIT0gXCIgXCIpIHtcbiAgICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJzaGlwXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRyYXdDb21wdXRlckJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb250YWluZXJcIilbMF07XG4gICAgbGV0IGJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYm9hcmQtY29udGFpbmVyXCIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZENvbnRhaW5lcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBib2FyZC5sZW5ndGg7IGErKykge1xuICAgICAgICBsZXQgaW5kaXZpZHVhbFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChcImNvbXB1dGVyLXNxdWFyZVwiKTtcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKGEpOyAvLyB4XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChpKTsgLy8geVxuICAgICAgICBib2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChpbmRpdmlkdWFsU3F1YXJlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2xhc3NUb0Nvb3JkcyA9IGZ1bmN0aW9uIChpbmRpdmlkdWFsU3F1YXJlKSB7XG4gICAgbGV0IGNsYXNzZXMgPSBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdDtcbiAgICBsZXQgeCA9IGNsYXNzZXNbMV07XG4gICAgbGV0IHkgPSBcIm9vcHNcIjsgLy8gdG8gc3RvcCBlcnJvcnNcbiAgICBsZXQgdGVtcCA9IHBhcnNlSW50KGNsYXNzZXNbMl0pO1xuICAgIGlmIChwYXJzZUludChjbGFzc2VzWzJdKSA+PSAwKSB7XG4gICAgICB5ID0gY2xhc3Nlc1syXTtcbiAgICB9IGVsc2Uge1xuICAgICAgeSA9IGNsYXNzZXNbMV07XG4gICAgfVxuICAgIHJldHVybiBbeCwgeV07XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBib2FyZCxcbiAgICBob3Jpem9udGFsLFxuICAgIHZlcnRpY2FsLFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgbWlzc2VkQ29vcmRzLFxuICAgIGN1cnJlbnRTaGlwcyxcbiAgICBhbGxTdW5rLFxuICAgIGdldFBvdGVudGlhbE1vdmVzLFxuICAgIHBvdGVudGlhbE1vdmVzLFxuICAgIG1hdGNoTW92ZSxcbiAgICByZW1vdmVBbGxJbnN0YW5jZXMsXG4gICAgZHJhd0JvYXJkLFxuICAgIHNldFVwQ2xpY2tUb0hpdCxcbiAgICBkcmF3Q29tcHV0ZXJCb2FyZCxcbiAgICBzdW5rU2hpcHMsXG4gIH07XG59O1xuXG5leHBvcnQgeyBHYW1lQm9hcmQgfTtcblxuLy8gY29uc3QgY2hlY2tOZXN0ZWRBcnJheSA9IGZ1bmN0aW9uIChhcnJheSwgY29vcmRzKSB7XG4vLyAgIGxldCBtYXRjaCA9IGZhbHNlO1xuLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4vLyAgICAgaWYgKGFycmF5W2ldLmluY2x1ZGVzKGNvb3Jkc1swXSkgJiYgYXJyYXlbaV0uaW5jbHVkZXMoY29vcmRzWzFdKSkge1xuLy8gICAgICAgbWF0Y2ggPSB0cnVlO1xuLy8gICAgIH1cbi8vICAgfVxuLy8gICByZXR1cm4gbWF0Y2g7XG4vLyB9O1xuIiwiaW1wb3J0IHsgR2FtZUJvYXJkIH0gZnJvbSBcIi4vZ2FtZUJvYXJkXCI7XG5cbmNvbnN0IFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgbmFtZSA9IFwiXCI7XG4gIGxldCBsZWdhbE1vdmVzID0gW107XG4gIC8vIGxldCBwcmV2aW91c01vdmVzID0gW107XG4gIC8vIGxldCBhdmFpbGFibGVNb3ZlcyA9IFtdO1xuXG4gIGNvbnN0IGdldExlZ2FsTW92ZXMgPSBmdW5jdGlvbiAob3Bwb25lbnRHYW1lYm9hcmQpIHtcbiAgICBsZWdhbE1vdmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHBvbmVudEdhbWVib2FyZC5ib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCAxMDsgYSsrKSB7XG4gICAgICAgIGlmIChvcHBvbmVudEdhbWVib2FyZC5ib2FyZFtpXVthXSA9PSBcIiBcIikge1xuICAgICAgICAgIGxlZ2FsTW92ZXMucHVzaChbaSwgYV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoZWNrTWlzc2VkQ29vcmRzRm9yTWF0Y2ggPSBmdW5jdGlvbiAoXG4gICAgY29vcmRzLFxuICAgIG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlcbiAgKSB7XG4gICAgbGV0IG1hdGNoID0gZmFsc2U7XG4gICAgYXZhaWxhYmxlTW92ZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBjb29yZHNbMF0gPT0gb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVswXSAmJlxuICAgICAgICBjb29yZHNbMV0gPT0gb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVtpXVsxXVxuICAgICAgKSB7XG4gICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF2YWlsYWJsZU1vdmVzLnB1c2goW2Nvb3Jkc1swXSwgY29vcmRzWzFdXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoID09IHRydWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFJhbmRvbUludChtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KTtcbiAgfVxuXG4gIGNvbnN0IHJhbmRvbUF0dGFjayA9IGZ1bmN0aW9uIChvcHBvbmVudEdhbWVib2FyZCkge1xuICAgIGxldCByYW5kb21JbmRleCA9IGdldFJhbmRvbUludChvcHBvbmVudEdhbWVib2FyZC5wb3RlbnRpYWxNb3Zlcy5sZW5ndGggLSAxKTtcbiAgICBsZXQgcmFuZG9tTW92ZSA9IG9wcG9uZW50R2FtZWJvYXJkLnBvdGVudGlhbE1vdmVzW3JhbmRvbUluZGV4XTtcbiAgICByZXR1cm4gcmFuZG9tTW92ZTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgcmFuZG9tQXR0YWNrLFxuICAgIGdldExlZ2FsTW92ZXMsXG4gICAgcmFuZG9tQXR0YWNrLFxuICAgIGNoZWNrTWlzc2VkQ29vcmRzRm9yTWF0Y2gsXG4gIH07XG59O1xuXG5leHBvcnQgeyBQbGF5ZXIgfTtcbiIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgeyBHYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lQm9hcmRcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuXG4vLyBuZWVkIHRvIGNoYW5nZSBpZHMgb24gZWFjaCBnYW1lYm9hcmRcbi8vIGFkZCBpbiBzd2Fwc1xuLy8gZG9udCBhbGxvdyBhdHRhY2tpbmcgb3duIGdhbWVib2FyZFxuLy8gbWFrZSBjb21wdXRlciBtYWtlIG1vdmUgb24gaXRzIGdvXG4vL3NldCB0aW1lb3V0IHRvIGRlbGF5IG1vdmVcbi8vIGRpc3BsYXkgY2hhbmdlXG4vLyBlbmQgYXQgd2luXG5cbmNvbnN0IEdhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBwbGF5ZXJPbmUgPSBQbGF5ZXIoKTtcbiAgcGxheWVyT25lLm5hbWUgPSBcInBsYXllck9uZVwiO1xuICBsZXQgcGxheWVyVHdvID0gUGxheWVyKCk7XG4gIHBsYXllclR3by5uYW1lID0gXCJwbGF5ZXJUd29cIjtcbiAgbGV0IHAxR2FtZWJvYXJkID0gR2FtZUJvYXJkKHBsYXllck9uZSwgcGxheWVyVHdvKTtcbiAgbGV0IHAyR2FtZWJvYXJkID0gR2FtZUJvYXJkKHBsYXllck9uZSwgcGxheWVyVHdvKTtcbiAgcDFHYW1lYm9hcmQuZ2V0UG90ZW50aWFsTW92ZXMoKTtcbiAgcDJHYW1lYm9hcmQuZ2V0UG90ZW50aWFsTW92ZXMoKTtcbiAgbGV0IHdpbiA9IGZhbHNlO1xuXG4gIGNvbnN0IHNldFVwUGxheWVyT25lU2hpcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcDFHYW1lYm9hcmQgPSBHYW1lQm9hcmQoKTtcbiAgICBjb25zdCBwMXNoaXAyID0gU2hpcCgyKTtcbiAgICBwMXNoaXAyLmNvb3Jkcy5wdXNoKFswLCAwXSk7XG4gICAgcDFzaGlwMi5jb29yZHMucHVzaChbMCwgMV0pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzBdWzBdID0gcDFzaGlwMjtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFswXVsxXSA9IHAxc2hpcDI7XG4gICAgY29uc3QgcDFzaGlwM2EgPSBTaGlwKDMpO1xuICAgIC8vIGNvbnNvbGUubG9nKGBhYmMke3Axc2hpcDNhLmxlbmd0aH1gKTtcblxuICAgIHAxc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAwXSk7XG4gICAgcDFzaGlwM2EuY29vcmRzLnB1c2goWzEsIDFdKTtcbiAgICBwMXNoaXAzYS5jb29yZHMucHVzaChbMSwgMl0pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzFdWzBdID0gcDFzaGlwM2E7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMV1bMV0gPSBwMXNoaXAzYTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsxXVsyXSA9IHAxc2hpcDNhO1xuICAgIGNvbnN0IHAxc2hpcDNiID0gU2hpcCgzKTtcbiAgICBwMXNoaXAzYi5jb29yZHMucHVzaChbMiwgMF0pO1xuICAgIHAxc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAxXSk7XG4gICAgcDFzaGlwM2IuY29vcmRzLnB1c2goWzIsIDJdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsyXVswXSA9IHAxc2hpcDNiO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzJdWzFdID0gcDFzaGlwM2I7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMl1bMl0gPSBwMXNoaXAzYjtcbiAgICBjb25zdCBwMXNoaXA0ID0gU2hpcCg0KTtcbiAgICBwMXNoaXA0LmNvb3Jkcy5wdXNoKFszLCAwXSk7XG4gICAgcDFzaGlwNC5jb29yZHMucHVzaChbMywgMV0pO1xuICAgIHAxc2hpcDQuY29vcmRzLnB1c2goWzMsIDJdKTtcbiAgICBwMXNoaXA0LmNvb3Jkcy5wdXNoKFszLCAzXSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbM11bMF0gPSBwMXNoaXA0O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzNdWzFdID0gcDFzaGlwNDtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFszXVsyXSA9IHAxc2hpcDQ7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbM11bM10gPSBwMXNoaXA0O1xuICAgIGNvbnN0IHAxc2hpcDUgPSBTaGlwKDUpO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDBdKTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAxXSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgMl0pO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDNdKTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCA0XSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bMF0gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzFdID0gcDFzaGlwNTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVsyXSA9IHAxc2hpcDU7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bM10gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzRdID0gcDFzaGlwNTtcbiAgICBwMUdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMXNoaXAyKTtcbiAgICBwMUdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMXNoaXAzYSk7XG4gICAgcDFHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDFzaGlwM2IpO1xuICAgIHAxR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAxc2hpcDQpO1xuICAgIHAxR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAxc2hpcDUpO1xuICB9O1xuXG4gIGNvbnN0IHNldFVwUGxheWVyVHdvU2hpcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcDJzaGlwMiA9IFNoaXAoMik7XG4gICAgcDJzaGlwMi5jb29yZHMucHVzaChbMCwgMF0pO1xuICAgIHAyc2hpcDIuY29vcmRzLnB1c2goWzAsIDFdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFswXVswXSA9IHAyc2hpcDI7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMF1bMV0gPSBwMnNoaXAyO1xuICAgIGNvbnN0IHAyc2hpcDNhID0gU2hpcCgzKTtcbiAgICBwMnNoaXAzYS5jb29yZHMucHVzaChbMSwgMF0pO1xuICAgIHAyc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAxXSk7XG4gICAgcDJzaGlwM2EuY29vcmRzLnB1c2goWzEsIDJdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsxXVswXSA9IHAyc2hpcDNhO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzFdWzFdID0gcDJzaGlwM2E7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMV1bMl0gPSBwMnNoaXAzYTtcbiAgICBjb25zdCBwMnNoaXAzYiA9IFNoaXAoMyk7XG4gICAgcDJzaGlwM2IuY29vcmRzLnB1c2goWzIsIDBdKTtcbiAgICBwMnNoaXAzYi5jb29yZHMucHVzaChbMiwgMV0pO1xuICAgIHAyc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAyXSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMl1bMF0gPSBwMnNoaXAzYjtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsyXVsxXSA9IHAyc2hpcDNiO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzJdWzJdID0gcDJzaGlwM2I7XG4gICAgY29uc3QgcDJzaGlwNCA9IFNoaXAoNCk7XG4gICAgcDJzaGlwNC5jb29yZHMucHVzaChbMywgMF0pO1xuICAgIHAyc2hpcDQuY29vcmRzLnB1c2goWzMsIDFdKTtcbiAgICBwMnNoaXA0LmNvb3Jkcy5wdXNoKFszLCAyXSk7XG4gICAgcDJzaGlwNC5jb29yZHMucHVzaChbMywgM10pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzNdWzBdID0gcDJzaGlwNDtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFszXVsxXSA9IHAyc2hpcDQ7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbM11bMl0gPSBwMnNoaXA0O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzNdWzNdID0gcDJzaGlwNDtcbiAgICBjb25zdCBwMnNoaXA1ID0gU2hpcCg1KTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAwXSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgMV0pO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDJdKTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAzXSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgNF0pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzBdID0gcDJzaGlwNTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVsxXSA9IHAyc2hpcDU7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bMl0gPSBwMnNoaXA1O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzNdID0gcDJzaGlwNTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVs0XSA9IHAyc2hpcDU7XG5cbiAgICBwMkdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMnNoaXAyKTtcbiAgICBwMkdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMnNoaXAzYSk7XG4gICAgcDJHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDJzaGlwM2IpO1xuICAgIHAyR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAyc2hpcDQpO1xuICAgIHAyR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAyc2hpcDUpO1xuICB9O1xuXG4gIGNvbnN0IHNldFVwR2FtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZXRVcFBsYXllck9uZVNoaXBzKCk7XG4gICAgc2V0VXBQbGF5ZXJUd29TaGlwcygpO1xuICAgIHAxR2FtZWJvYXJkLmRyYXdCb2FyZCgpO1xuICAgIHAyR2FtZWJvYXJkLmRyYXdDb21wdXRlckJvYXJkKCk7XG4gICAgLy8gcDFHYW1lYm9hcmQuc2V0VXBDbGlja1RvSGl0KCk7XG4gICAgcDJHYW1lYm9hcmQuc2V0VXBDbGlja1RvSGl0KCk7XG4gIH07XG5cbiAgcmV0dXJuIHsgc2V0VXBHYW1lLCBwMUdhbWVib2FyZCwgcDJHYW1lYm9hcmQgfTtcbn07XG5cbmV4cG9ydCB7IEdhbWUgfTtcbiIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgeyBHYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lQm9hcmRcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcblxuLy8gY29uc3QgZ2IxID0gR2FtZUJvYXJkKCk7XG4vLyBjb25zdCBnYjIgPSBHYW1lQm9hcmQoKTtcblxuLy8gLy8gY29uc3QgZ2FtZSA9IEdhbWUoKTtcbi8vIC8vIGNvbnN0IHBsYXllciA9IFBsYXllcigpO1xuLy8gLy8gY29uc3Qgc2hpcCA9IFNoaXAoKTtcbi8vIC8vIHNoaXAuY29vcmRzLnB1c2goWzAsIDFdKTtcbi8vIC8vIGdiLmdldFBvdGVudGlhbE1vdmVzKCk7XG4vLyAvLyBsZXQgbW92ZXMgPSBnYi5wb3RlbnRpYWxNb3Zlcztcbi8vIC8vIGNvbnNvbGUubG9nKGdiLnBvdGVudGlhbE1vdmVzLmxlbmd0aCkgO1xuLy8gLy8gZ2IucmVjZWl2ZUF0dGFjayhzaGlwLCBbMCwgM10pO1xuLy8gLy8gY29uc29sZS5sb2coZ2IucG90ZW50aWFsTW92ZXMubGVuZ3RoKTtcbi8vIGdiMS5kcmF3Qm9hcmQoKTtcbi8vIGdiMi5kcmF3Qm9hcmQoKTtcbmNvbnN0IGdhbWUgPSBHYW1lKCk7XG5nYW1lLnNldFVwR2FtZSgpO1xuXG4vLyBnYW1lLnAxR2FtZWJvYXJkLmRyYXdCb2FyZCgpO1xuLy8gZ2FtZS5wMkdhbWVib2FyZC5kcmF3Q29tcHV0ZXJCb2FyZCgpO1xuLy8gZ2FtZS5wMUdhbWVib2FyZC5zZXRVcENsaWNrVG9IaXQoKTtcbi8vIGdhbWUucDJHYW1lYm9hcmQuc2V0VXBDbGlja1RvSGl0KCk7XG4iXSwibmFtZXMiOlsiU2hpcCIsImxlbmd0aCIsIm51bWJlck9mSGl0cyIsInN1bmsiLCJzaGlwTGVuZ3RoIiwiaXNTdW5rIiwiaGl0IiwiY29vcmRzIiwiR2FtZUJvYXJkIiwicGxheWVyT25lIiwicGxheWVyVHdvIiwic3Vua1NoaXBzIiwibWlzc2VkQ29vcmRzIiwicG90ZW50aWFsTW92ZXMiLCJjdXJyZW50UGxheWVyIiwiYm9hcmQiLCJzd2FwUGxheWVyIiwiY29uc29sZSIsImxvZyIsIm1hdGNoTW92ZSIsImFycmF5VG9GaW5kTWF0Y2giLCJtYXRjaCIsImZvckVhY2giLCJtb3ZlIiwicmVtb3ZlQWxsSW5zdGFuY2VzIiwiYXJyIiwiaXRlbSIsImkiLCJzcGxpY2UiLCJyZWNlaXZlQXR0YWNrIiwic3F1YXJlIiwic2hpcCIsInB1c2giLCJjbGFzc0xpc3QiLCJhZGQiLCJkaXNwbGF5TWlzcyIsInN3YXBwZWRDb29yZHMiLCJkaXNwbGF5SGl0Iiwic2hpcFN1bmsiLCJhbGxTdW5rIiwiYWxlcnQiLCJjbGFzc1RvQ29vcmRzIiwiaW5kaXZpZHVhbFNxdWFyZSIsImNsYXNzZXMiLCJ4IiwieSIsInBhcnNlSW50IiwiaG9yaXpvbnRhbCIsInN0YXJ0Um93Q29vcmRzIiwic3RhcnRDb2x1bW5Db29yZHMiLCJjdXJyZW50Q29vcmQiLCJ2ZXJ0aWNhbCIsImN1cnJlbnRTaGlwcyIsImdldFBvdGVudGlhbE1vdmVzIiwiYSIsImRyYXdCb2FyZCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImJvYXJkQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwic2V0VXBDbGlja1RvSGl0Iiwic3F1YXJlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkcmF3Q29tcHV0ZXJCb2FyZCIsIlBsYXllciIsImxlZ2FsTW92ZXMiLCJyYW5kb21BdHRhY2siLCJvcHBvbmVudEdhbWVib2FyZCIsInJhbmRvbUluZGV4IiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibmFtZSIsImdldExlZ2FsTW92ZXMiLCJjaGVja01pc3NlZENvb3Jkc0Zvck1hdGNoIiwib3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheSIsImF2YWlsYWJsZU1vdmVzIiwicDFHYW1lYm9hcmQiLCJwMkdhbWVib2FyZCIsInNldFVwR2FtZSIsInAxc2hpcDIiLCJwMXNoaXAzYSIsInAxc2hpcDNiIiwicDFzaGlwNCIsInAxc2hpcDUiLCJzZXRVcFBsYXllck9uZVNoaXBzIiwicDJzaGlwMiIsInAyc2hpcDNhIiwicDJzaGlwM2IiLCJwMnNoaXA0IiwicDJzaGlwNSIsInNldFVwUGxheWVyVHdvU2hpcHMiLCJHYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==