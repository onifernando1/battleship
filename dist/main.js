(()=>{"use strict";const o=function(o){let s=0,t=!1;return{shipLength:o,numberOfHits:s,isSunk:function(){if(s>=o)return t=!0,!0},hit:function(){s+=1},coords:[],length:o,sunk:t}},s=function(){let o=[];const s=[];let t=[],r=[[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]],[[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "],[" "]]];const e=function(o,s){let t=!1;return o.forEach((o=>{o[0]==s[0]&&o[1]==s[1]&&(t=!0)})),1==t};function n(o,s){for(let t=o.length;t--;)o[t][0]==s[0]&&o[t][1]==s[1]&&o.splice(t,1)}const d=function(d,a){let u=r[d[1]][d[0]];if(console.log(`coords = ${d}`),0==e(t,d))console.log("Retry bro"),console.log(t);else{if(" "==u)s.push(d),console.log("miss"),function(o){o.classList.add("miss")}(a);else{let s=[];s.push(d[1]),s.push(d[0]),e(u.coords,s)&&(u.hit(),function(o){o.classList.add("hit")}(a),u.isSunk(),u.isSunk()&&(function(o){for(let s=0;s<o.coords.length;s++)o.coords[s][0],o.coords[s][1]}(u),o.push(u)),c(),console.log("hit"),s=[])}e(t,d)&&n(t,d)}},c=function(){return 5==o.length&&(alert("DONE!"),!0)},a=function(o){let s=o.classList,t=s[1],r="oops";return parseInt(s[2]),r=parseInt(s[2])>=0?s[2]:s[1],[t,r]};return{board:r,horizontal:function(o,s,t){for(let r=0;r<o.shipLength;r++){let e=[s,r+t];o.coords.push(e)}},vertical:function(o,s,t){for(let r=0;r<o.shipLength;r++){let e=[r+s,t];o.coords.push(e)}},receiveAttack:d,missedCoords:s,currentShips:[],allSunk:c,getPotentialMoves:function(){for(let o=0;o<10;o++)for(let s=0;s<10;s++)t.push([s,o])},potentialMoves:t,matchMove:e,removeAllInstances:n,drawBoard:function(){const o=document.getElementsByClassName("container")[0];let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s);for(let o=0;o<r.length;o++)for(let t=0;t<r.length;t++){let e=document.createElement("div");e.classList.add("individual-square"),e.classList.add(t),e.classList.add(o),s.appendChild(e)," "!=r[o][t]&&e.classList.add("ship")}},setUpClickToHit:function(){let o=document.getElementsByClassName("individual-square");for(let s=0;s<o.length;s++)o[s].addEventListener("click",(()=>{d(a(o[s]),o[s])}))},drawComputerBoard:function(){const o=document.getElementsByClassName("container")[0];let s=document.createElement("div");s.classList.add("board-container"),o.appendChild(s);for(let o=0;o<r.length;o++)for(let t=0;t<r.length;t++){let r=document.createElement("div");r.classList.add("individual-square"),r.classList.add(t),r.classList.add(o),s.appendChild(r)}},sunkShips:o}},t=function(){let o=[],s=[];const t=function(o){let s=(t=o.potentialMoves.length-1,Math.floor(Math.random()*t));var t;return o.potentialMoves[s]};return{name:"",randomAttack:t,getLegalMoves:function(s){o=[];for(let t=0;t<s.board.length;t++)for(let r=0;r<10;r++)" "==s.board[t][r]&&o.push([t,r])},randomAttack:t,checkMissedCoordsForMatch:function(o,t){let r=!1;s=[];for(let e=0;e<t.length;e++)o[0]==t[e][0]&&o[1]==t[e][1]?r=!0:s.push([o[0],o[1]]);return 1==r}}},r=function(){let r="",e="",n=r,d=s(),c=s();return d.getPotentialMoves(),c.getPotentialMoves(),{swapPlayer:function(){n=n==r?e:r},setUpGame:function(){r=t();const s=o(2);s.coords.push([0,0]),s.coords.push([0,1]),d.board[0][0]=s,d.board[0][1]=s;const n=o(3);n.coords.push([1,0]),n.coords.push([1,1]),n.coords.push([1,2]),d.board[1][0]=n,d.board[1][1]=n,d.board[1][2]=n;const a=o(3);a.coords.push([2,0]),a.coords.push([2,1]),a.coords.push([2,2]),d.board[2][0]=a,d.board[2][1]=a,d.board[2][2]=a;const u=o(4);u.coords.push([3,0]),u.coords.push([3,1]),u.coords.push([3,2]),u.coords.push([3,3]),d.board[3][0]=u,d.board[3][1]=u,d.board[3][2]=u,d.board[3][3]=u;const i=o(5);i.coords.push([4,0]),i.coords.push([4,1]),i.coords.push([4,2]),i.coords.push([4,3]),i.coords.push([4,4]),d.board[4][0]=i,d.board[4][1]=i,d.board[4][2]=i,d.board[4][3]=i,d.board[4][4]=i,d.currentShips.push(s),d.currentShips.push(n),d.currentShips.push(a),d.currentShips.push(u),d.currentShips.push(i),e=t();const l=o(2);l.coords.push([0,0]),l.coords.push([0,1]),c.board[0][0]=l,c.board[0][1]=l;const h=o(3);h.coords.push([1,0]),h.coords.push([1,1]),h.coords.push([1,2]),c.board[1][0]=h,c.board[1][1]=h,c.board[1][2]=h;const p=o(3);p.coords.push([2,0]),p.coords.push([2,1]),p.coords.push([2,2]),c.board[2][0]=p,c.board[2][1]=p,c.board[2][2]=p;const b=o(4);b.coords.push([3,0]),b.coords.push([3,1]),b.coords.push([3,2]),b.coords.push([3,3]),c.board[3][0]=b,c.board[3][1]=b,c.board[3][2]=b,c.board[3][3]=b;const f=o(5);f.coords.push([4,0]),f.coords.push([4,1]),f.coords.push([4,2]),f.coords.push([4,3]),f.coords.push([4,4]),c.board[4][0]=f,c.board[4][1]=f,c.board[4][2]=f,c.board[4][3]=f,c.board[4][4]=f,c.currentShips.push(l),c.currentShips.push(h),c.currentShips.push(p),c.currentShips.push(b),c.currentShips.push(f)},p1Gameboard:d,p2Gameboard:c}}();r.setUpGame(),r.p1Gameboard.drawBoard(),r.p2Gameboard.drawComputerBoard(),r.p1Gameboard.setUpClickToHit(),r.p2Gameboard.setUpClickToHit()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aGlwLy4vc3JjL2dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTaGlwID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICBjb25zdCBzaGlwTGVuZ3RoID0gbGVuZ3RoO1xuICBsZXQgbnVtYmVyT2ZIaXRzID0gMDtcbiAgbGV0IHN1bmsgPSBmYWxzZTtcbiAgbGV0IGNvb3JkcyA9IFtdO1xuXG4gIGNvbnN0IGhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBudW1iZXJPZkhpdHMgKz0gMTtcbiAgfTtcblxuICBjb25zdCBpc1N1bmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gY29uc29sZS5sb2cobGVuZ3RoKTtcbiAgICAvLyBjb25zb2xlLmxvZyhudW1iZXJPZkhpdHMpO1xuXG4gICAgaWYgKG51bWJlck9mSGl0cyA+PSBsZW5ndGgpIHtcbiAgICAgIHN1bmsgPSB0cnVlO1xuICAgICAgLy8gY29uc29sZS5sb2coYHNoaXAuc3VuayBpbiBvcmlnaW5hbCAke3N1bmt9YCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJmYWxzZVwiKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHsgc2hpcExlbmd0aCwgbnVtYmVyT2ZIaXRzLCBpc1N1bmssIGhpdCwgY29vcmRzLCBsZW5ndGgsIHN1bmsgfTtcbn07XG5cbmV4cG9ydCB7IFNoaXAgfTtcbiIsIi8vY2hlY2sgZm9yIGxlZ2FsIG1vdmVzXG5cbmNvbnN0IEdhbWVCb2FyZCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHNoaXBQbGFjZW1lbnRNb2RlID0gXCJob3Jpem9udGFsXCI7XG4gIGxldCBjdXJyZW50U2hpcHMgPSBbXTtcbiAgbGV0IHN1bmtTaGlwcyA9IFtdO1xuICBjb25zdCBtaXNzZWRDb29yZHMgPSBbXTtcbiAgbGV0IHBvdGVudGlhbE1vdmVzID0gW107XG5cbiAgbGV0IGJvYXJkID0gW1xuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgICBbW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXSwgW1wiIFwiXV0sXG4gICAgW1tcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl0sIFtcIiBcIl1dLFxuICAgIFtbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdLCBbXCIgXCJdXSxcbiAgXTtcblxuICBjb25zdCBnZXRQb3RlbnRpYWxNb3ZlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgMTA7IGErKykge1xuICAgICAgICBwb3RlbnRpYWxNb3Zlcy5wdXNoKFthLCBpXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldFVwQ2xpY2tUb0hpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc3F1YXJlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbmRpdmlkdWFsLXNxdWFyZVwiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNxdWFyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNxdWFyZXNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcmVjZWl2ZUF0dGFjayhjbGFzc1RvQ29vcmRzKHNxdWFyZXNbaV0pLCBzcXVhcmVzW2ldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBob3Jpem9udGFsID0gZnVuY3Rpb24gKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjdXJyZW50Q29vcmQgPSBbc3RhcnRSb3dDb29yZHMsIGkgKyBzdGFydENvbHVtbkNvb3Jkc107XG4gICAgICBzaGlwLmNvb3Jkcy5wdXNoKGN1cnJlbnRDb29yZCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZlcnRpY2FsID0gZnVuY3Rpb24gKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5zaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjdXJyZW50Q29vcmQgPSBbaSArIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkc107XG4gICAgICBzaGlwLmNvb3Jkcy5wdXNoKGN1cnJlbnRDb29yZCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHBsYWNlU2hpcCA9IGZ1bmN0aW9uIChzaGlwKSB7XG4gICAgc2hpcC5jb29yZHMuZm9yRWFjaCgoY29vcmQpID0+IHtcbiAgICAgIGxldCBvdXRlciA9IGNvb3JkWzBdO1xuICAgICAgbGV0IGlubmVyID0gY29vcmRbMV07XG4gICAgICBib2FyZFtvdXRlcl1baW5uZXJdID0gc2hpcDtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzZXRTaGlwUG9zaXRpb24gPSBmdW5jdGlvbiAoc2hpcCwgc3RhcnRSb3dDb29yZHMsIHN0YXJ0Q29sdW1uQ29vcmRzKSB7XG4gICAgaWYgKHNoaXBQbGFjZW1lbnRNb2RlID09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICBob3Jpem9udGFsKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcyk7XG4gICAgfSBlbHNlIGlmIChzaGlwUGxhY2VtZW50TW9kZSA9PSBcInZlcnRpY2FsXCIpIHtcbiAgICAgIHZlcnRpY2FsKHNoaXAsIHN0YXJ0Um93Q29vcmRzLCBzdGFydENvbHVtbkNvb3Jkcyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoZWNrTmVzdGVkQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXksIGNvb3Jkcykge1xuICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhcnJheVtpXS5pbmNsdWRlcyhjb29yZHNbMF0pICYmIGFycmF5W2ldLmluY2x1ZGVzKGNvb3Jkc1sxXSkpIHtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG5cbiAgY29uc3QgbWF0Y2hNb3ZlID0gZnVuY3Rpb24gKGFycmF5VG9GaW5kTWF0Y2gsIGNvb3Jkcykge1xuICAgIGxldCBtYXRjaCA9IGZhbHNlO1xuICAgIGFycmF5VG9GaW5kTWF0Y2guZm9yRWFjaCgobW92ZSkgPT4ge1xuICAgICAgaWYgKG1vdmVbMF0gPT0gY29vcmRzWzBdICYmIG1vdmVbMV0gPT0gY29vcmRzWzFdKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidHJ1ZVwiKTtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG1hdGNoID09IHRydWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbEluc3RhbmNlcyhhcnIsIGl0ZW0pIHtcbiAgICBmb3IgKGxldCBpID0gYXJyLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgIGlmIChhcnJbaV1bMF0gPT0gaXRlbVswXSAmJiBhcnJbaV1bMV0gPT0gaXRlbVsxXSkgYXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBkaXNwbGF5SGl0ID0gZnVuY3Rpb24gKHNxdWFyZSkge1xuICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICB9O1xuXG4gIGNvbnN0IHNoaXBTdW5rID0gZnVuY3Rpb24gKHNoaXApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgeCA9IHNoaXAuY29vcmRzW2ldWzBdO1xuICAgICAgbGV0IHkgPSBzaGlwLmNvb3Jkc1tpXVsxXTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheU1pc3MgPSBmdW5jdGlvbiAoc3F1YXJlKSB7XG4gICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJtaXNzXCIpO1xuICB9O1xuXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSBmdW5jdGlvbiAoY29vcmRzLCBzcXVhcmUpIHtcbiAgICBsZXQgc2hpcCA9IGJvYXJkW2Nvb3Jkc1sxXV1bY29vcmRzWzBdXTsgLy8geCBhbmQgeSBtdXN0IGJlIHN3YXBwZWQgZm9yIGdhbWUgYm9hcmRcblxuICAgIC8vIGlmIG5vdCBhIGxlZ2FsIG1vdmUsIHJldHJ5XG4gICAgY29uc29sZS5sb2coYGNvb3JkcyA9ICR7Y29vcmRzfWApO1xuICAgIGlmIChtYXRjaE1vdmUocG90ZW50aWFsTW92ZXMsIGNvb3JkcykgPT0gZmFsc2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmV0cnkgYnJvXCIpO1xuICAgICAgY29uc29sZS5sb2cocG90ZW50aWFsTW92ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2hpcCA9PSBcIiBcIikge1xuICAgICAgICBtaXNzZWRDb29yZHMucHVzaChjb29yZHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1pc3NcIik7XG4gICAgICAgIGRpc3BsYXlNaXNzKHNxdWFyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc3dhcHBlZENvb3JkcyA9IFtdO1xuICAgICAgICBzd2FwcGVkQ29vcmRzLnB1c2goY29vcmRzWzFdKTtcbiAgICAgICAgc3dhcHBlZENvb3Jkcy5wdXNoKGNvb3Jkc1swXSk7XG4gICAgICAgIGlmIChtYXRjaE1vdmUoc2hpcC5jb29yZHMsIHN3YXBwZWRDb29yZHMpKSB7XG4gICAgICAgICAgc2hpcC5oaXQoKTtcbiAgICAgICAgICBkaXNwbGF5SGl0KHNxdWFyZSk7XG4gICAgICAgICAgc2hpcC5pc1N1bmsoKTtcbiAgICAgICAgICBpZiAoc2hpcC5pc1N1bmsoKSkge1xuICAgICAgICAgICAgc2hpcFN1bmsoc2hpcCk7XG4gICAgICAgICAgICBzdW5rU2hpcHMucHVzaChzaGlwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWxsU3VuaygpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiaGl0XCIpO1xuICAgICAgICAgIHN3YXBwZWRDb29yZHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1hdGNoTW92ZShwb3RlbnRpYWxNb3ZlcywgY29vcmRzKSkge1xuICAgICAgICByZW1vdmVBbGxJbnN0YW5jZXMocG90ZW50aWFsTW92ZXMsIGNvb3Jkcyk7IC8vIG5lZWQgdG8gY29kZSB0aGlzXG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFsbFN1bmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gbGV0IGFsbFNoaXBzU3VuayA9IFtdO1xuICAgIC8vIGN1cnJlbnRTaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG4gICAgLy8gICBpZiAoc2hpcC5zdW5rID09IGZhbHNlKSB7XG4gICAgLy8gICAgIGFsbFNoaXBzU3Vuay5wdXNoKGZhbHNlKTtcbiAgICAvLyAgIH0gZWxzZSB7XG4gICAgLy8gICAgIGFsbFNoaXBzU3Vuay5wdXNoKHRydWUpO1xuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuICAgIC8vIGlmIChhbGxTaGlwc1N1bmsuaW5jbHVkZXMoZmFsc2UpKSB7XG4gICAgLy8gICByZXR1cm4gZmFsc2U7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIHJldHVybiB0cnVlO1xuICAgIC8vIH1cbiAgICBpZiAoc3Vua1NoaXBzLmxlbmd0aCA9PSA1KSB7XG4gICAgICBhbGVydChcIkRPTkUhXCIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZHJhd0JvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb250YWluZXJcIilbMF07XG4gICAgbGV0IGJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYm9hcmQtY29udGFpbmVyXCIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZENvbnRhaW5lcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBib2FyZC5sZW5ndGg7IGErKykge1xuICAgICAgICBsZXQgaW5kaXZpZHVhbFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChcImluZGl2aWR1YWwtc3F1YXJlXCIpO1xuICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoYSk7IC8vIHhcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKGkpOyAvLyB5XG4gICAgICAgIGJvYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZGl2aWR1YWxTcXVhcmUpO1xuICAgICAgICBpZiAoYm9hcmRbaV1bYV0gIT0gXCIgXCIpIHtcbiAgICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJzaGlwXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRyYXdDb21wdXRlckJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb250YWluZXJcIilbMF07XG4gICAgbGV0IGJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYm9hcmQtY29udGFpbmVyXCIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib2FyZENvbnRhaW5lcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBib2FyZC5sZW5ndGg7IGErKykge1xuICAgICAgICBsZXQgaW5kaXZpZHVhbFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0LmFkZChcImluZGl2aWR1YWwtc3F1YXJlXCIpO1xuICAgICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoYSk7IC8vIHhcbiAgICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKGkpOyAvLyB5XG4gICAgICAgIGJvYXJkQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZGl2aWR1YWxTcXVhcmUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBjbGFzc1RvQ29vcmRzID0gZnVuY3Rpb24gKGluZGl2aWR1YWxTcXVhcmUpIHtcbiAgICBsZXQgY2xhc3NlcyA9IGluZGl2aWR1YWxTcXVhcmUuY2xhc3NMaXN0O1xuICAgIGxldCB4ID0gY2xhc3Nlc1sxXTtcbiAgICBsZXQgeSA9IFwib29wc1wiOyAvLyB0byBzdG9wIGVycm9yc1xuICAgIGxldCB0ZW1wID0gcGFyc2VJbnQoY2xhc3Nlc1syXSk7XG4gICAgaWYgKHBhcnNlSW50KGNsYXNzZXNbMl0pID49IDApIHtcbiAgICAgIHkgPSBjbGFzc2VzWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICB5ID0gY2xhc3Nlc1sxXTtcbiAgICB9XG4gICAgcmV0dXJuIFt4LCB5XTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGJvYXJkLFxuICAgIGhvcml6b250YWwsXG4gICAgdmVydGljYWwsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICBtaXNzZWRDb29yZHMsXG4gICAgY3VycmVudFNoaXBzLFxuICAgIGFsbFN1bmssXG4gICAgZ2V0UG90ZW50aWFsTW92ZXMsXG4gICAgcG90ZW50aWFsTW92ZXMsXG4gICAgbWF0Y2hNb3ZlLFxuICAgIHJlbW92ZUFsbEluc3RhbmNlcyxcbiAgICBkcmF3Qm9hcmQsXG4gICAgc2V0VXBDbGlja1RvSGl0LFxuICAgIGRyYXdDb21wdXRlckJvYXJkLFxuICAgIHN1bmtTaGlwcyxcbiAgfTtcbn07XG5cbmV4cG9ydCB7IEdhbWVCb2FyZCB9O1xuXG4vLyBib2FyZC5mb3JFYWNoKChib2FyZCkgPT4ge1xuLy8gICBib2FyZC5mb3JFYWNoKChpbm5lclNxdWFyZSkgPT4ge1xuLy8gICAgIGxldCBpbmRpdmlkdWFsU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbi8vICAgICBpbmRpdmlkdWFsU3F1YXJlLmNsYXNzTGlzdC5hZGQoXCJpbmRpdmlkdWFsLXNxdWFyZVwiKTtcbi8vICAgICBib2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChpbmRpdmlkdWFsU3F1YXJlKTtcbi8vICAgICBpZiAoaW5uZXJTcXVhcmVbMF0gIT0gXCIgXCIpIHtcbi8vICAgICAgIGNvbnNvbGUubG9nKFwieWVzXCIpO1xuLy8gICAgICAgaW5kaXZpZHVhbFNxdWFyZS5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcbi8vICAgICB9XG4vLyAgIH0pO1xuLy8gfSk7XG4iLCJpbXBvcnQgeyBHYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lQm9hcmRcIjtcblxuY29uc3QgUGxheWVyID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBuYW1lID0gXCJcIjtcbiAgbGV0IGxlZ2FsTW92ZXMgPSBbXTtcbiAgbGV0IHByZXZpb3VzTW92ZXMgPSBbXTtcbiAgbGV0IGF2YWlsYWJsZU1vdmVzID0gW107XG5cbiAgY29uc3QgZ2V0TGVnYWxNb3ZlcyA9IGZ1bmN0aW9uIChvcHBvbmVudEdhbWVib2FyZCkge1xuICAgIGxlZ2FsTW92ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wcG9uZW50R2FtZWJvYXJkLmJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBhID0gMDsgYSA8IDEwOyBhKyspIHtcbiAgICAgICAgaWYgKG9wcG9uZW50R2FtZWJvYXJkLmJvYXJkW2ldW2FdID09IFwiIFwiKSB7XG4gICAgICAgICAgbGVnYWxNb3Zlcy5wdXNoKFtpLCBhXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2hlY2tNaXNzZWRDb29yZHNGb3JNYXRjaCA9IGZ1bmN0aW9uIChcbiAgICBjb29yZHMsXG4gICAgb3Bwb25lbnRHYW1lYm9hcmRNaXNzZWRDb29yZHNBcnJheVxuICApIHtcbiAgICBsZXQgbWF0Y2ggPSBmYWxzZTtcbiAgICBhdmFpbGFibGVNb3ZlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzBdKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMV0pO1xuICAgICAgLy8gY29uc29sZS5sb2coY29vcmRzWzBdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMF0pO1xuICAgICAgLy8gY29uc29sZS5sb2coY29vcmRzWzFdID09IG9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXlbaV1bMV0pO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGNvb3Jkc1swXSA9PSBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzBdICYmXG4gICAgICAgIGNvb3Jkc1sxXSA9PSBvcHBvbmVudEdhbWVib2FyZE1pc3NlZENvb3Jkc0FycmF5W2ldWzFdXG4gICAgICApIHtcbiAgICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXZhaWxhYmxlTW92ZXMucHVzaChbY29vcmRzWzBdLCBjb29yZHNbMV1dKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb25zb2xlLmxvZyhgYXZhaWxhYmxlIDogJHthdmFpbGFibGVNb3Zlc31gKTtcblxuICAgIGlmIChtYXRjaCA9PSB0cnVlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIklUIElTIEEgTUFUQ0hcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJJVCBJUyBOT1QgQSBNQVRDSFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpO1xuICB9XG5cbiAgY29uc3QgcmFuZG9tQXR0YWNrID0gZnVuY3Rpb24gKG9wcG9uZW50R2FtZWJvYXJkKSB7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gZ2V0UmFuZG9tSW50KG9wcG9uZW50R2FtZWJvYXJkLnBvdGVudGlhbE1vdmVzLmxlbmd0aCAtIDEpO1xuICAgIGxldCByYW5kb21Nb3ZlID0gb3Bwb25lbnRHYW1lYm9hcmQucG90ZW50aWFsTW92ZXNbcmFuZG9tSW5kZXhdO1xuICAgIHJldHVybiByYW5kb21Nb3ZlO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICByYW5kb21BdHRhY2ssXG4gICAgZ2V0TGVnYWxNb3ZlcyxcbiAgICByYW5kb21BdHRhY2ssXG4gICAgY2hlY2tNaXNzZWRDb29yZHNGb3JNYXRjaCxcbiAgfTtcbn07XG5cbmV4cG9ydCB7IFBsYXllciB9O1xuIiwiaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCB7IEdhbWVCb2FyZCB9IGZyb20gXCIuL2dhbWVCb2FyZFwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xuXG4vLyBjb25zdCBnYjEgPSBHYW1lQm9hcmQoKTtcbi8vIGNvbnN0IGdiMiA9IEdhbWVCb2FyZCgpO1xuXG4vLyAvLyBjb25zdCBnYW1lID0gR2FtZSgpO1xuLy8gLy8gY29uc3QgcGxheWVyID0gUGxheWVyKCk7XG4vLyAvLyBjb25zdCBzaGlwID0gU2hpcCgpO1xuLy8gLy8gc2hpcC5jb29yZHMucHVzaChbMCwgMV0pO1xuLy8gLy8gZ2IuZ2V0UG90ZW50aWFsTW92ZXMoKTtcbi8vIC8vIGxldCBtb3ZlcyA9IGdiLnBvdGVudGlhbE1vdmVzO1xuLy8gLy8gY29uc29sZS5sb2coZ2IucG90ZW50aWFsTW92ZXMubGVuZ3RoKTtcbi8vIC8vIGdiLnJlY2VpdmVBdHRhY2soc2hpcCwgWzAsIDNdKTtcbi8vIC8vIGNvbnNvbGUubG9nKGdiLnBvdGVudGlhbE1vdmVzLmxlbmd0aCk7XG4vLyBnYjEuZHJhd0JvYXJkKCk7XG4vLyBnYjIuZHJhd0JvYXJkKCk7XG5jb25zdCBnYW1lID0gR2FtZSgpO1xuZ2FtZS5zZXRVcEdhbWUoKTtcbmdhbWUucDFHYW1lYm9hcmQuZHJhd0JvYXJkKCk7XG5nYW1lLnAyR2FtZWJvYXJkLmRyYXdDb21wdXRlckJvYXJkKCk7XG5nYW1lLnAxR2FtZWJvYXJkLnNldFVwQ2xpY2tUb0hpdCgpO1xuZ2FtZS5wMkdhbWVib2FyZC5zZXRVcENsaWNrVG9IaXQoKTtcbiIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgeyBHYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lQm9hcmRcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuXG5jb25zdCBHYW1lID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcGxheWVyT25lID0gXCJcIjtcbiAgbGV0IHBsYXllclR3byA9IFwiXCI7XG4gIGxldCBjdXJyZW50UGxheWVyID0gcGxheWVyT25lO1xuICBsZXQgcDFHYW1lYm9hcmQgPSBHYW1lQm9hcmQoKTtcbiAgbGV0IHAyR2FtZWJvYXJkID0gR2FtZUJvYXJkKCk7XG4gIHAxR2FtZWJvYXJkLmdldFBvdGVudGlhbE1vdmVzKCk7XG4gIHAyR2FtZWJvYXJkLmdldFBvdGVudGlhbE1vdmVzKCk7XG5cbiAgY29uc3Qgc3dhcFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY3VycmVudFBsYXllciA9PSBwbGF5ZXJPbmUpIHtcbiAgICAgIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJUd287XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXJPbmU7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldFVwR2FtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBwbGF5ZXJPbmUgPSBQbGF5ZXIoKTtcbiAgICAvLyBwMUdhbWVib2FyZCA9IEdhbWVCb2FyZCgpO1xuICAgIGNvbnN0IHAxc2hpcDIgPSBTaGlwKDIpO1xuICAgIHAxc2hpcDIuY29vcmRzLnB1c2goWzAsIDBdKTtcbiAgICBwMXNoaXAyLmNvb3Jkcy5wdXNoKFswLCAxXSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMF1bMF0gPSBwMXNoaXAyO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzBdWzFdID0gcDFzaGlwMjtcbiAgICBjb25zdCBwMXNoaXAzYSA9IFNoaXAoMyk7XG4gICAgLy8gY29uc29sZS5sb2coYGFiYyR7cDFzaGlwM2EubGVuZ3RofWApO1xuXG4gICAgcDFzaGlwM2EuY29vcmRzLnB1c2goWzEsIDBdKTtcbiAgICBwMXNoaXAzYS5jb29yZHMucHVzaChbMSwgMV0pO1xuICAgIHAxc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAyXSk7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMV1bMF0gPSBwMXNoaXAzYTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsxXVsxXSA9IHAxc2hpcDNhO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzFdWzJdID0gcDFzaGlwM2E7XG4gICAgY29uc3QgcDFzaGlwM2IgPSBTaGlwKDMpO1xuICAgIHAxc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAwXSk7XG4gICAgcDFzaGlwM2IuY29vcmRzLnB1c2goWzIsIDFdKTtcbiAgICBwMXNoaXAzYi5jb29yZHMucHVzaChbMiwgMl0pO1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzJdWzBdID0gcDFzaGlwM2I7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbMl1bMV0gPSBwMXNoaXAzYjtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFsyXVsyXSA9IHAxc2hpcDNiO1xuICAgIGNvbnN0IHAxc2hpcDQgPSBTaGlwKDQpO1xuICAgIHAxc2hpcDQuY29vcmRzLnB1c2goWzMsIDBdKTtcbiAgICBwMXNoaXA0LmNvb3Jkcy5wdXNoKFszLCAxXSk7XG4gICAgcDFzaGlwNC5jb29yZHMucHVzaChbMywgMl0pO1xuICAgIHAxc2hpcDQuY29vcmRzLnB1c2goWzMsIDNdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFszXVswXSA9IHAxc2hpcDQ7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbM11bMV0gPSBwMXNoaXA0O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzNdWzJdID0gcDFzaGlwNDtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFszXVszXSA9IHAxc2hpcDQ7XG4gICAgY29uc3QgcDFzaGlwNSA9IFNoaXAoNSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgMF0pO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDFdKTtcbiAgICBwMXNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAyXSk7XG4gICAgcDFzaGlwNS5jb29yZHMucHVzaChbNCwgM10pO1xuICAgIHAxc2hpcDUuY29vcmRzLnB1c2goWzQsIDRdKTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVswXSA9IHAxc2hpcDU7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bMV0gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmJvYXJkWzRdWzJdID0gcDFzaGlwNTtcbiAgICBwMUdhbWVib2FyZC5ib2FyZFs0XVszXSA9IHAxc2hpcDU7XG4gICAgcDFHYW1lYm9hcmQuYm9hcmRbNF1bNF0gPSBwMXNoaXA1O1xuICAgIHAxR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAxc2hpcDIpO1xuICAgIHAxR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAxc2hpcDNhKTtcbiAgICBwMUdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMXNoaXAzYik7XG4gICAgcDFHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDFzaGlwNCk7XG4gICAgcDFHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDFzaGlwNSk7XG5cbiAgICBwbGF5ZXJUd28gPSBQbGF5ZXIoKTtcbiAgICAvLyBwMkdhbWVib2FyZCA9IEdhbWVCb2FyZCgpO1xuICAgIGNvbnN0IHAyc2hpcDIgPSBTaGlwKDIpO1xuICAgIHAyc2hpcDIuY29vcmRzLnB1c2goWzAsIDBdKTtcbiAgICBwMnNoaXAyLmNvb3Jkcy5wdXNoKFswLCAxXSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMF1bMF0gPSBwMnNoaXAyO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzBdWzFdID0gcDJzaGlwMjtcbiAgICBjb25zdCBwMnNoaXAzYSA9IFNoaXAoMyk7XG4gICAgcDJzaGlwM2EuY29vcmRzLnB1c2goWzEsIDBdKTtcbiAgICBwMnNoaXAzYS5jb29yZHMucHVzaChbMSwgMV0pO1xuICAgIHAyc2hpcDNhLmNvb3Jkcy5wdXNoKFsxLCAyXSk7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMV1bMF0gPSBwMnNoaXAzYTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsxXVsxXSA9IHAyc2hpcDNhO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzFdWzJdID0gcDJzaGlwM2E7XG4gICAgY29uc3QgcDJzaGlwM2IgPSBTaGlwKDMpO1xuICAgIHAyc2hpcDNiLmNvb3Jkcy5wdXNoKFsyLCAwXSk7XG4gICAgcDJzaGlwM2IuY29vcmRzLnB1c2goWzIsIDFdKTtcbiAgICBwMnNoaXAzYi5jb29yZHMucHVzaChbMiwgMl0pO1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzJdWzBdID0gcDJzaGlwM2I7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbMl1bMV0gPSBwMnNoaXAzYjtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFsyXVsyXSA9IHAyc2hpcDNiO1xuICAgIGNvbnN0IHAyc2hpcDQgPSBTaGlwKDQpO1xuICAgIHAyc2hpcDQuY29vcmRzLnB1c2goWzMsIDBdKTtcbiAgICBwMnNoaXA0LmNvb3Jkcy5wdXNoKFszLCAxXSk7XG4gICAgcDJzaGlwNC5jb29yZHMucHVzaChbMywgMl0pO1xuICAgIHAyc2hpcDQuY29vcmRzLnB1c2goWzMsIDNdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFszXVswXSA9IHAyc2hpcDQ7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbM11bMV0gPSBwMnNoaXA0O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzNdWzJdID0gcDJzaGlwNDtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFszXVszXSA9IHAyc2hpcDQ7XG4gICAgY29uc3QgcDJzaGlwNSA9IFNoaXAoNSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgMF0pO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDFdKTtcbiAgICBwMnNoaXA1LmNvb3Jkcy5wdXNoKFs0LCAyXSk7XG4gICAgcDJzaGlwNS5jb29yZHMucHVzaChbNCwgM10pO1xuICAgIHAyc2hpcDUuY29vcmRzLnB1c2goWzQsIDRdKTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVswXSA9IHAyc2hpcDU7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bMV0gPSBwMnNoaXA1O1xuICAgIHAyR2FtZWJvYXJkLmJvYXJkWzRdWzJdID0gcDJzaGlwNTtcbiAgICBwMkdhbWVib2FyZC5ib2FyZFs0XVszXSA9IHAyc2hpcDU7XG4gICAgcDJHYW1lYm9hcmQuYm9hcmRbNF1bNF0gPSBwMnNoaXA1O1xuXG4gICAgcDJHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDJzaGlwMik7XG4gICAgcDJHYW1lYm9hcmQuY3VycmVudFNoaXBzLnB1c2gocDJzaGlwM2EpO1xuICAgIHAyR2FtZWJvYXJkLmN1cnJlbnRTaGlwcy5wdXNoKHAyc2hpcDNiKTtcbiAgICBwMkdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMnNoaXA0KTtcbiAgICBwMkdhbWVib2FyZC5jdXJyZW50U2hpcHMucHVzaChwMnNoaXA1KTtcbiAgfTtcblxuICByZXR1cm4geyBzd2FwUGxheWVyLCBzZXRVcEdhbWUsIHAxR2FtZWJvYXJkLCBwMkdhbWVib2FyZCB9O1xufTtcblxuZXhwb3J0IHsgR2FtZSB9O1xuIl0sIm5hbWVzIjpbIlNoaXAiLCJsZW5ndGgiLCJudW1iZXJPZkhpdHMiLCJzdW5rIiwic2hpcExlbmd0aCIsImlzU3VuayIsImhpdCIsImNvb3JkcyIsIkdhbWVCb2FyZCIsInN1bmtTaGlwcyIsIm1pc3NlZENvb3JkcyIsInBvdGVudGlhbE1vdmVzIiwiYm9hcmQiLCJtYXRjaE1vdmUiLCJhcnJheVRvRmluZE1hdGNoIiwibWF0Y2giLCJmb3JFYWNoIiwibW92ZSIsInJlbW92ZUFsbEluc3RhbmNlcyIsImFyciIsIml0ZW0iLCJpIiwic3BsaWNlIiwicmVjZWl2ZUF0dGFjayIsInNxdWFyZSIsInNoaXAiLCJjb25zb2xlIiwibG9nIiwicHVzaCIsImNsYXNzTGlzdCIsImFkZCIsImRpc3BsYXlNaXNzIiwic3dhcHBlZENvb3JkcyIsImRpc3BsYXlIaXQiLCJzaGlwU3VuayIsImFsbFN1bmsiLCJhbGVydCIsImNsYXNzVG9Db29yZHMiLCJpbmRpdmlkdWFsU3F1YXJlIiwiY2xhc3NlcyIsIngiLCJ5IiwicGFyc2VJbnQiLCJob3Jpem9udGFsIiwic3RhcnRSb3dDb29yZHMiLCJzdGFydENvbHVtbkNvb3JkcyIsImN1cnJlbnRDb29yZCIsInZlcnRpY2FsIiwiY3VycmVudFNoaXBzIiwiZ2V0UG90ZW50aWFsTW92ZXMiLCJhIiwiZHJhd0JvYXJkIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYm9hcmRDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRVcENsaWNrVG9IaXQiLCJzcXVhcmVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYXdDb21wdXRlckJvYXJkIiwiUGxheWVyIiwibGVnYWxNb3ZlcyIsImF2YWlsYWJsZU1vdmVzIiwicmFuZG9tQXR0YWNrIiwib3Bwb25lbnRHYW1lYm9hcmQiLCJyYW5kb21JbmRleCIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm5hbWUiLCJnZXRMZWdhbE1vdmVzIiwiY2hlY2tNaXNzZWRDb29yZHNGb3JNYXRjaCIsIm9wcG9uZW50R2FtZWJvYXJkTWlzc2VkQ29vcmRzQXJyYXkiLCJnYW1lIiwicGxheWVyT25lIiwicGxheWVyVHdvIiwiY3VycmVudFBsYXllciIsInAxR2FtZWJvYXJkIiwicDJHYW1lYm9hcmQiLCJzd2FwUGxheWVyIiwic2V0VXBHYW1lIiwicDFzaGlwMiIsInAxc2hpcDNhIiwicDFzaGlwM2IiLCJwMXNoaXA0IiwicDFzaGlwNSIsInAyc2hpcDIiLCJwMnNoaXAzYSIsInAyc2hpcDNiIiwicDJzaGlwNCIsInAyc2hpcDUiLCJHYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==